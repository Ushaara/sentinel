-- tarot

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.tarot = {
  { id = "emperor",
      line = "^As (%a+) throws the Emperor tarot at you%, you are filled with adoration for [hH]%a+ and begin to follow [hH]%a+%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "forced to follow" },
  { id = "hangedman",
      line = "^(%a+) hurls a tarot card with the image of the Hanged Man on it at you%. As it reaches you%, a huge mass of rope bursts out of it%, entrapping and hindering you%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "roped" },
  { id = "fool_whoop",
      line = '^(%a+) flings a tarot card at you%, and a jester appears with a slack jawed expression%. With a mad jingling of his bells%, the fool .- and shouts%, %"WHOOP%! WHOOP%! WHOOP%!%"%.$',
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "hidden tarot" }, -- make sure this one matches
  { id = "fool_kiss",
      line = "^(%a+) flings a tarot card at you%, and a jester appears with a slack jawed expression%. With a mad jingling of his bells%, the fool plants an enormous kiss on your lips%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "hidden tarot" },
  { id = "empress",
      line = "^A large%, rectangular gateway opens up near you%, and you feel yourself irresistibly drawn inside%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "reject them you numpty!" },
  { id = "lovers",
      line = "^(%a+) throws a Lovers tarot at you and as it strikes true%, you fall hopelessly in love with [hH]%a+%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "in love" },
  { id = "warrior",
      line = "^A glowing axe appears and strikes you in the chest%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "damage" },
  { id = "fall",
      line = "^(%a+) throws a Tarot card at the ground and immediately a hazy image of ancient Celest blossoms forth%, with glittering seashell towers and bathed in glorious light%. Suddenly%, the image explodes and crashes down around you%, leaving behind nothing but piles of rubble%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "prepping room, watch out for kill condition" },
  { id = "moon",
      line = "^(%a+) flings a tarot card at you which turns an ominous%, sickly red before striking you in the head%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "moon affs" },
  { id = "dreamer",
      line = "^(%a+) deftly flings a Dreamer tarot at you%, and the card dissolves into a warm%, cloying mist that clouds your mind%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "mana/ego drain" },
  { id = "dreamer_symptom",
      line = "^You are suddenly spooked by an image from your dreams and lose some of your attentiveness%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "mana/ego drain" },
  { id = "judge",
      line = "^(%a+) flings a tarot card at you%, which expands into an image of Juliana%. A set of scales appears above your head and one side of the scale quickly descends%. You have a bad feeling about this%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "justice" },
  { id = "aeon",
      line = "^(%a+) stands an Aeon tarot on [hH]%a+ palm and blows it at you%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "aeon" },
  { id = "lust",
      line = "^(%a+) quickly flings a tarot card at you%, and you feel unreasonable lust for [hH]%a+%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "reject them reject them!" },
  { id = "soulless",
      line = "^(%a+) rubs a tarot card on your arm%. A cold jolt travels through your being%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "after 9 of these they can fling" },
  { id = "soulless_2",
      line = "^(%a+) flings a tarot card at you and upon impact%, it disappears%. An ominous silence overtakes your surroundings%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "INTERRUPT TIMED INSTA OR ESCAPE" },
  { id = "soulless_3",
      line = "^The ominous silence lifts%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "soulless failed" },
  { id = "world",
      line = "^The tarot card hits your magical shield%, which immediately explodes upon impact%.$",
      action = function (i, tbl) tarot_(i, tbl) end,
      notes = "shield is down" },
  }
