-- loralaria

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.loralaria = {
  { id = "blueberceuse",
      line = "^Your eyelids grow heavy as the placid%, soothing tones of (%a+)%'s music roll over you%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sleep attack" },
  { id = "blueberceuse_2",
      line = "Your sleeping mind screams in torment as a piercing noise reverberates through your skull%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "asleep, kafe stripped" },
  { id = "loralchord",
      line = "^(%a+) plays .- and directs the resonating notes towards you%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "damage" },
  { id = "loralchord_2",
      line = "^Your skin begins to crystallise%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "damage" },
  { id = "aureolinaubade",
      line = "^As the warmth of the lovely aubade surrounds you%, you are suddenly struck with a deep longing for (%a+) and gaze deeply into [hH]%a+ eyes%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "chance to lust/peace" },
  { id = "midnightminuet",
      line = "^You spring into sudden motion%, your legs moving stiffly of their own accord in interweaving steps%, compelled by the minuet ringing through the air%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "offbalance song" },
  { id = "fleckedfortissimo",
      line = "^The deafening notes bring you to your knees%, reverberating endlessly within your skull%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sprawl + chance for off focus bal" },
  { id = "violetvibrato",
      line = "^The oscillating notes of the violet vibrato ring maddeningly through your skull%, causing you to clutch your head as your faculties elude you%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "kombu cured affs" },
  { id = "skysforzando",
      line = '^%".-%" sings (%a+)%, striking a sudden%, sharp chord upon .-%, and [sS]?[hH]e looks directly at you%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "aeon stun" },
  { id = "skysforzando_2",
      line = "^The music resounds around you strangely%, causing you to freeze in horror as the world around you speeds up in a series of rapid blurs%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "aeon/stun"},
  { id = "redrubato",
      line = "^The rhythms of the rubato cause the air around you to buckle and shift as time itself warps in your presence%, wracking your body with pain%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "timewarp + damage" },
  { id = "convergence",
      line = "^You feel a sinking sensation in your stomach as the fabric of space and time distorts around you%. Everything goes dark as the world shifts around you%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "aeon, stun + random room" },
  { id = "funebre",
      line = '^%".-%" sings (%a+)%, loosing grim%, sombre notes from .-%, and [sS]?[hH]e looks directly at you%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "timed insta, become deaf or interrupt!" },
  { id = "funebre_2",
      line = "^Staring balefully at you%, (%a+) draws low%, ominous chords from the air%, focused upon maintaining the killing song%. You suddenly falter as the funebre pervades your hearing%, wrinkles forming across your skin%, crinkling like brittle parchment%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "gtfo now!" },
}

trigs.defs.loralaria = {
  { id = "crystal_fuse",
      line = "^You delicately fuse a glowing (%a+) to .+%, which glitters lightly with harmonic energy%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "crystal fuse for boosted effects" },
  { id = "crystal_detach",
      line = "^You touch a finger to the (%a+) fused upon .- and it twinkles for a final time before turning to dust%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "detach gem" },
  { id = "play_loralchord",
      line = "^You play a resonant chord on .- and direct the notes towards .-%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "cold/asphyx damage: ^(.-)%'s skin begins to crystallise." },
  { id = "play_aureolinaubade",
      line = "^You strum a few quiet notes on .- and feel the music resonate within your being%, evoking feelings of love and lust toward (.-)%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "parse the lust list" },
  { id = "aureolinaubade",
      line = "^As the warmth of the lovely aubade surrounds (%a+)%, [sS]?[hH]e smiles dreamily%, gazing with deep longing into your eyes%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "aureolinaubade" },
  { id = "aureolinaubade_lusted",
      line = "^You feel a deep lust rising in (%a+)%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "lusted" },
  { id = "jadegrazioso",
      line = "^The lively tones of your music brighten your mind%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "health regen" },
  { id = "emeraldgrazioso",
      line = "^The flowing melody of the emerald grazioso soothes your body and spirit%, leaving you hale and invigorated%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "emerald grazioso - passive cure" },
  { id = "stratusserenade",
      line = "^The clouds around you thrum in response to a light melody%, suffusing your skin with a translucent glow%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "futureglimpse" },
  { id = "stratusserenade_down",
      line = "^Glimpsing into the future%, you know to avoid (%a+)%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "futureglimpse" },
  { id = "stratusserenade_def",
      line = "^Youave a glimpse of the future%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "futureglimpse" },
  { id = "lostforesight",
      line = "^Your musical foresight fades away with a light chime%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "rare line" },
  { id = "sing_blueberceuse",
      line = '^%".-%" you sing%, coaxing low%, soothing tones from .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing blueberceuse" },
  { id = "sing_aureolinaubade",
      line = '^%".-%" you sing%, coaxing a passionate tune from .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing aureolinaubade" },
  { id = "sing_jadegrazioso",
      line = '^%".-%" you sing%, striking a graceful%, lilting melody upon .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing jadegrazioso" },
  { id = "sing_crimsoncourante",
      line = '^%".-%" you sing%, playing .- with swift%, arcing notes%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing crimsoncourante" },
  { id = "sing_crescendo",
      line = '^%".-%" you sing%, bright%, crystalline notes ringing from .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing crescendo" },
  { id = "sing_chromaconcerto",
      line = '^%".-%" you sing%, striking rich%, stately notes upon .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing chromaconcerto" },
  { id = "sing_violetvibrato",
      line = '^%".-%" you sing%, making .- thrum with rapidly lilting tunes%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing violetvibrato" },
  { id = "sing_midnightminuet",
      line = '^%".-%" you sing%, deftly eliciting a stern%, dancing harmony from .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing midnightminuet" },
  { id = "sing_fleckedfortissimo",
      line = '^%".-%" you sing%, making .- thunder with booming harmonies%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing fleckedfortissimo" },
  { id = "sing_emeraldgrazioso",
      line = '^%".-%" you sing%, playing .- with a rich%, flowing tone%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing emerald grazioso" },
  { id = "sing_redrubato",
      line = '^%".-%" you sing%, playing .- with a shifting%, complex rhythm%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing redrubato" },
  { id = "sing_stratusserenade",
      line = '^%".-%" you sing%, playing light and airy notes on .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing stratusserenade" },
  { id = "sing_skysforzando",
      line = '^%".-%" you sing%, striking a sudden%, sharp chord upon .+%, and you look directly at (%a+)%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing sky" },
  { id = "skysforzando_2",
      line = "^A look of horror crosses (%a+)%'s face as [sS]?[hH]e winces%, [hH]%a+ movements becoming sluggish as the air about [hH]%a+ shimmers%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing sky 2: Suddenly Person's movements through the time stream are slowed. <- aeon" },
  { id = "sing_clearcapriccio",
      line = '^%".-%" you sing%, striking a rallying%, symphonic melody upon .-%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing clear: alacrity + aff cure" },
  { id = "clearcapriccio_2",
      line = "^Motes of light dance and bob in time to the rhythm of the clear capriccio%, bursting into a prismatic barrier that envelops you with a chromatic shimmer%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "clear capriccio" },
  { id = "sing_convergence",
      line = '^%".-%" you sing%, making .- ring with pure harmonies%, and you look directly at (%a+)%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing convergence" },
  { id = "convergence_2",
      line = "^Time swirls auspiciously around (%a+) and space itself ripples darkly%. In a flash of bright light%, [sS]?[hH]e is gone and everything settles down%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "fling with aeon+stun" },
  { id = "sing_funebre",
      line = '^%".-%" you sing%, loosing grim%, sombre notes from .+%, and you look directly at (%a+)%.$',
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "sing funebre" },
  { id = "halfway_funebre",
      line = "^Staring balefully at (%a+)%, you draw low%, ominous chords from the air%, focusing upon maintaining the killing song%. %a+ suddenly falters%, glancing down in consternation as wrinkles form on [hH]%a+ skin%, crinkling like brittle parchment%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "4s mark of deathsong" },
  { id = "kill_funebre",
      line = "^With a flourish%, you bring the funebre to a doleful conclusion%. (%a+) grows pale and emaciated as rapid age suddenly takes [hH]%a+%, spindly limbs and creaking bones twitching helplessly%. With a final look of utter sorrow%, [sS]?[hH]e succumbs to [hH]%a+ own farewell and collapses%, scattering into a fine dusting of powder across the ground%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "You have slain (%a+)." },
  { id = "deathsong_fail",
      line = "^You cease maintaining the killing note that is directed at (%a+)%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "deathsong failed" },
  { id = "loralchord",
      line = "^(.-)%'s skin begins to crystallise%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "loralchord" },
  { id = "loralchord_kill",
      line = "^(.-)%'s skin turns to diamond and [sS]?[hH]e dies%, frozen in place%.$",
      action = function (i, tbl) loralaria_(i, tbl) end,
      notes = "kill" },
}
