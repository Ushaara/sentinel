-- cosmic

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.cosmic = {
  { id = "cosmicfire",
      line = "^(%a+) raises a palm which glows with a tiny pinpoint of light%. The light turns into a sparkling current of energy that slams into you%, dissolving your flesh%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "damage" },
  { id = "fear",
      line = "^(%a+) shuts [hH]%a+ eyes for several moments%, then opens them and reveals glowing orbs of static energy rolling in [hH]%a+ eyesockets%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "fearing room" },
  { id = "fear_2",
      line = "^A sudden primal fear grips your heart%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "you got feared" },
  { id = "diminish",
      line = "^(%a+) makes a series of complex gestures before you%, and [sS]?[hH]e suddenly grows much larger%. Come to think of it%, everything looks larger than normal%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "diminished, enlarge if it bothers you!" },
  { id = "sleep",
      line = "^(%a+) reaches over and gently squeezes your shoulder%. You find yourself rapidly becoming sleepier and sleepier%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "sleep attack" },
  { id = "web",
      line = "^Sticky strands of webbing spray out from (%a+) to cover you%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "roped" },
  { id = "enfeeble",
      line = "^A dark ray of energy shoots from (%a+)%'s hand and hits you in the chest%. You gasp in horror as you feel your muscles shrivel and wither%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "wearied in body" },
  { id = "enlarge",
      line = "^(%a+) makes a series of complex gestures before you%, and [sS]?[hH]e suddenly shrinks in size%. In fact%, everything around you seems to be much smaller%!$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "enlarged, diminish if it bothers!" },
  { id = "timeslip",
      line = "^Your vision blurs as your target suddenly shifts away from you%, causing you to lose track of your target%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "timeslip" },
  -- { id = "quicken" },
}
trigs.defs.cosmic = {
  { id = "cosmicfire",
      line = "^You allow an infinitesimally small mote of cosmic fire to manifest and direct it at (.-)%. Cosmic fire blasts forth%, dissolving [hH]%a+ flesh in a sparkling current of energy%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "cosmic fire" },
  { id = "waterwalk",
      line = "^You pull a cosmic web down around your feet%, and you sense that gravity will be your ally when entering water%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "waterwalk" },
  { id = "waterwalk_up",
      line = "^You are already water walking%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "waterwalk_up" },
  { id = "waterwalk_off",
      line = "^You carefully untie the strands of cosmic web around your feet%, releasing the bods that protect you from the damp%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "waterwalk_off" },
  { id = "waterwalk_down",
      line = "^You are not water walking%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "waterwalk down" },
  { id = "waterwalk_def",
      line = "^You can walk upon water%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "also enchantment" },
  { id = "deathsight",
      line = "^You touch the cosmos and allow your eyes to pierce through the veil of death%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "deathsight" },
  { id = "deathsight_up",
      line = "^You already are seeing death%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "deathsight up" },
  { id = "deathsight_off",
      line = "^You release your touch upon the cosmos and the veil of death falls over your sight once more%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "deathsight off" },
  { id = "deathsight_down",
      line = "^You are not seeing death%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "deathsight down" },
  { id = "deathsight",
      line = "^You see the death occur at (.-)%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "deathsight" },
  { id = "deathsight_def",
      line = "^You are seeing death%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "def line" },
  { id = "soulguard",
      line = "^You weave a delicate lattice of energy around your body%, sheltering your soul from the ravages of the cosmos%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "soulguard" },
  { id = "soulguard_up",
      line = "^Your soul is already guarded against the ravages of the cosmos%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "soulguard up" },
  { id = "soulguard_off",
      line = "^You relax your eyes and squint slightly to see the delicate lattice of energy sheltering you from the cosmos%. By lightly pulling at key bindings in the weave%, you allow the structure to collapse%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "soulguard off" },
  { id = "soulguard_down",
      line = "^Your soul is not guarded against the ravages of the cosmos%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "soulguard down" },
  { id = "soulguard_def",
      line = "^Your soul is guarded against the ravages of the cosmos%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "def line" },
  { id = "cloak",
      line = "^Weaving the cosmic threads into a cloak%, you settle it upon your shoulders and feel somewhat more protected%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "cloak" },
  { id = "cloak_up",
      line = "^You are already cloaked%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "cloak up" },
  { id = "cloak_off",
      line = "^You lightly remove your cosmic cloak%, shaking it out in front of you and allowing the weft of its fibres to dissipate upon the breeze%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "cloak off" },
  { id = "cloak_down",
      line = "^You are not cloaked%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "cloak down" },
  { id = "cloak_def",
      line = "^Your body and soul are cloaked%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "def line" },
  { id = "timeslip",
      line = "^Touching upon cosmic probabilities%, you weave a net of safety around yourself%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "timeslip" },
  { id = "timeslip_up",
      line = "^You already have cast a web of safety around yourself%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "timeslip up" },
  { id = "timeslip_down",
      line = "^You blur and slip through time as (%a+) approaches you%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "timeslip down" },
  { id = "timeslip_def",
      line = "^You are touching upon cosmic probabilities%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "def line" },
  { id = "nimbus",
      line = "^Drawing cosmic dust into a sphere%, you slowly let it expand into a nimbus of glittering motes%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "nimbus" },
  { id = "nimbus_up",
      line = "^You are already surrounded with a cosmic nimbus%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "nimbus up" },
  { id = "nimbus_off",
      line = "^You flap your hands wildly before you%, sending the nimbus of glittering cosmic dust motes around you spiralling wildly away on eddies of swirling air%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "nimbus off" },
  { id = "nimbus_down",
      line = "^You are not surrounded with a cosmic nimbus%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "nimbus down" },
  { id = "nimbus_def",
      line = "^You are surrounded by a nimbus of cosmic protection%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "def line" },
  { id = "quickening",
      line = "^Focusing your entire will upon the cosmic strands that bind your own body%, you quicken every fiber of your being to lightning speed%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "quickening" },
  { id = "quickening_down",
      line = "^The quickening within your being subsides%.$",
      action = function (i, tbl) cosmic_(i, tbl) end,
      notes = "quickening down" },
}
