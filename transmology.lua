-- transmology

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.transmology = {
  { id = "eyes_hypnotize",
      line = " ^(%a+) stares at you with [hH]%a+ silvery eyes%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "hypnotized" },
  { id = "eyes_dominate",
      line = "^(%a+) commands you in a booming voice%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "check to see what you do" },
  { id = "spix",
      line = "^A swirling beam of light shoots out of the eye of a floating spix directly into your eyes%, transfixing you with a kaleidoscope of colours and shapes%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "transfix or trueblind strip" },
  { id = "nose_slime",
      line = "^(%a+) throws back [hH]%a+ head and blows a stream of slime out of [hH]%a+ nose and onto you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "ecto ecto ecto" },
  { id = "nose_peck",
      line = "^(%a+) darts out and viciously pecks you with [hH]%a+ beak nose%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "damage" },
  { id = "sludgeworm",
      line = "^A squirming sludgeworm rears up and spits a gob of green slime onto you%, covering you in a slick mucus%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "mucus" },
  { id = "mucus_symptom",
      line = "^A puddle of slimy mucus forms under your feet%, causing you to slip and fall%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "scrub to leave without falling" },
  { id = "torso_tentacles",
      line = "^The slithering tentacles sprouting from (%a+) wrap around you and then snap off of [hH]%a+%, entangling you like bloody ropes%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "entangled" },
  { id = "torso_gust",
      line = "^(%a+) beats [hH]%a+ wings%, causing a gust of wind to push you out to the (%a+)%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "gust: you are hurled to the ..." },
  { id = "morrible",
      line = "^A screeching morrible places a suckered finger against the nape of your neck%. Your mind reels as dozens of gibbering voices assault you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "insanity + aff" },
  { id = "hands_claws",
      line = "^(%a+) rakes you across the throat with [hH]%a+ claws%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "can charybdon hit: you are afflicted with an unknown ailment" },
  { id = "hands_gigantic",
      line = "^(%a+) slugs you in the jaw with [hH]%a+ enormous fist%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "blunt damage" },
  { id = "hands_ethereal",
      line = "^(%a+) whips [hH]%a+ translucent hands through the air%, flaying you with ethereal fingers%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "psychic damage" },
  { id = "throat_scream",
      line = "^(%a+) screams at you%, %'.+%!%'$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "stunned" }, -- test this
  { id = "throat_croak",
      line = "^An enormous guttural croak reverberates through the air%, shaking the ground%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "damage" },
  { id = "throat_croak_2",
      line = "^The grotesque sound causes your insides to churn and you taste blood in your mouth%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "damaged" },
  { id = "throat_sing",
      line = "^A hauntingly beautiful song fills the air%, compelling you to follow it%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "getting summoned" },
  { id = "hekoskeri",
      line = "^Dozens of hands from a tangled hekoskeri slap at you%, and you feel a cold needle injected into your shoulder%, causing your reactions to slow%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "UGH HEKOSKERI'D" },
  { id = "mouth_bite",
      line = "^(%a+) sinks [hH]%a+ fangs into your neck%, and you feel yourself drained of blood and energy%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "vitals drained" },
  { id = "madfly",
      line = "^(%a+) whispers into [hH]%a+ cupped hands and then releases a fluttering madfly which buzzes over to you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "MADFLY MADFLY MADFLY" },
  { id = "madfly_2",
      line = "^A fluttering madfly darts into your ear%, and you hear a horrendously loud buzzing within your skull%. You stumble about trying to clear the impossible visions that plague you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "insanity rapidly increasing" },
  { id = "aura_psychedelic",
      line = "^The psychedelic lights around (%a+) flare and shoot out at you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "as if they needed more affs" },
  { id = "aura_electric",
      line = "^The crackling nimbus around (%a+) sends an arc of electricity at you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "electric damage" },
  { id = "homunculus_bite",
      line = "^Baring sharpened teeth dripping with greenish saliva%, a homunculus resembling a deformed %a+ leaps up and bites you%, causing you to tremble and feel feverish%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "insanity + aff" },
  { id = "homunculus_badluck",
      line = "^H%a+ eyes glowing a fearsome yellow%, a homunculus resembling a deformed %a+ stares at you with a burning gaze%, and you cannot help but shudder at the intensity of the malice directed towards you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "badlucked by homunculus" },
  { id = "homunculus_greywhispers",
      line = "^H%a+ eyes glowing a fiery red%, a homunculus resembling a deformed %a+ looks at you%, quickly looks away%, then looks back at you with a malicious glint in [hH]%a+ eye%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "ugh, greywhispers spam inbound" },
  { id = "inveiglora",
      line = "^Reality shifts and colours explode in your vision as the Inveiglora of Gnostoratu points a dainty finger at you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "insanity" },
  { id = "inveiglora_2",
      line = "^The Inveiglora of Gnostoratu giggles as her hand seizes your throat%, her fingers morphing into tentacles that only tighten their hold%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "sweet jebus, do they get throat lock too?" },
  { id = "inveiglora_3",
      line = "^Laughing softly, the Inveiglora of Gnostoratu whips her arms at you%, which transform into a mass of tentacles that binds you completely%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "entangled" },
  { id = "inveiglora_4",
      line = "^You feel your mental strength drain as the Inveiglora of Gnostoratu%'s throat splits open and releases a discordant song%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "mana drain" },
}

trigs.defs.transmology = {
  { id = "fleshwork",
      line = "^You hold the flesh of lovashi between the palms of your? hands and begin to squeeze%. As the flesh squirms and separates%, you open yourself up and absorb it into your system%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "fleshwork, resistance to skin diseases" },
  { id = "fleshwork_up",
      line = "^Your body is already prepared for transformation%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "fleshwork up" },
  { id = "thick_skin",
      line = "^You absorb the flesh and your skin thickens into a rough%, leathery hide%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "blunt protection" },
  { id = "marble_skin",
      line = "^You absorb the flesh and your skin hardens into a smooth marble%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "cutting protection" },
  { id = "furry_skin",
      line = "^You absorb the flesh and thick%, luscious fur sprouts all over your body%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "elemental protection" },
  { id = "bubble_skin",
      line = "^You absorb the flesh and your skin bubbles with spherical warts%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "magic protection" },
  { id = "whirl_eyes",
      line = "^You absorb the flesh and your eyes whirl with chromatic colours%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "illusion protection" },
  { id = "darken_eyes",
      line = "^You absorb the flesh and your eyes flutter with dark shadows%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "blindness protection" },
  { id = "darkened_eyes",
      line = "^Shadows flit over your eyes%, protecting them from blindness%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "shrugged blindness" },
  { id = "silver_eyes",
      line = "^You absorb the flesh and your eyes sparkle with silver motes%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "can hypnotise target" },
  { id = "hypnotize_balance",
      line = "^Your eyes are recovered enough to focus on hypnotizing again%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "can hypnotise" },
  { id = "fleshsummon",
      line = "^You allow the flesh to merge together%, then exert your will upon the pulsating mass%. You toss it on the ground%, where it bubbles and hisses%, finally shaping itself into a (%a+) (%a+)%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "flesh summon: floating spix, bulbous ribbachi, squirming sludgeworm, screeching morrible, tangled hekoskeri" },
  { id = "fat_legs",
      line = "^You absorb the flesh and your legs bulge and thicken%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "summon resist" },
  { id = "lengthen_legs",
      line = "^You absorb the flesh and your legs stretch and lengthen%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "faster movement" },
  { id = "doublejoint_legs",
      line = "^You absorb the flesh and the joints in your legs crack and double back%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable leaping" },
  { id = "leap",
      line = "^You bunch your powerful muscles and launch yourself in a majestic leap (%a+)wards%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "leap over obstacles" },
  { id = "sharpen_ears",
      line = "^You absorb the flesh and the angle of your ears crease into sharp points%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable eavesdrop" },
  { id = "eavesdrop",
      line = "^You begin to eavesdrop to the (%a+)%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "eavesdropping" },
  { id = "overheard",
      line = "^You hear action%: (.+)%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "overheard" },
  { id = "lengthen_ears",
      line = "You absorb the flesh and the tips of your ears stretch and lengthen%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable ping" },
  { id = "scales_ears",
      line = "^You absorb the flesh and scales sprout over the surface of your ears%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "reduce sound damage" },
  { id = "harden_belly",
      line = "^You absorb the flesh and your abdominal muscles become abnormally hard and flat%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "protection vs vomiting, cramps and worms" },
  { id = "temper_belly",
      line = "^You absorb the flesh and your belly gurgles and grumbles%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "alcohol resistance" },
  { id = "fatten_belly",
      line = "^You absorb the flesh and your belly unfurls rolls of fat%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "summon resist" },
  { id = "lengthen_nose",
      line = "^You absorb the flesh and your nose stretches and lengthens%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable scent" },
  { id = "bulbous_nose",
      line = "^You absorb the flesh and a bulbous knob forms on the end of your nose%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable slime" },
  { id = "harden_nose",
      line = "^You absorb the flesh and your nose hardens and curves into a beak%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable peck" },
  { id = "fatten_torso",
      line = "^You absorb the flesh and rolls of fat unfurl over your torso%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "summon resistance" },
  { id = "wings_torso",
      line = "^You absorb the flesh and wings sprout on the back of your torso%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable flight/gust" },
  { id = "tentacles_torso",
      line = "^You absorb the flesh and slithering tentacles sprout out of your torso%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable block" },
  { id = "tentacle_block",
      line = "^You whip out your tentacles%, which slither out and block the exit to the (%a+)%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "block" },
  { id = "block_up",
      line = "^You are already blocking in that direction%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "block" },
  { id = "unblock",
      line = "^You stop blocking%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "unblock" },
  { id = "fluidflesh",
      line = "^You relax your skin and muscles until it sloughs from your body in great clumps of liquid flesh%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "free eq on fleshcall" },
  { id = "fluidflesh_up",
      line = "^You already have fluid flesh%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "fluidflesh up" },
  { id = "fluidflesh_down",
      line = "^Your flesh suddenly becomes sticky and more elastic%, solidifying around your muscles and bones once more%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "fluidflesh down" },
  { id = "claws_hands",
      line = "^You absorb the flesh and enormous claws emergy from the tips of your fingers%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "poison on attack"},
  { id = "giant_hands",
      line = "^You absorb the flesh and your hands grow to gigantic proportions%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "crush: blunt damage" },
  { id = "slug",
      line = "^You slug (.-) in the jaw with your enormous fist%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "bash attack" },
  { id = "visual_slug_kill",
      line = "^(.-)%'s neck snaps and [sS]?[hH]e dies instantly%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "visual slug kill" },
  { id = "ethereal_hands",
      line = "^You absorb the flesh and your hands fade and become translucent%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable flay" },
  { id = "gauntlet_echo",
      line = "^Echoing from the blow%, a blast of (%a+) light ripples into you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "blue: gnosis gauntlet" },
  { id = "scales_throat",
      line = "^You absorb the flesh and scales form over your throat%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable scream" },
  { id = "frog_throat",
      line = "^You absorb the flesh and your throat bulges like that of a toad%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable croak" },
  { id = "feathered_throat",
      line = "^You absorb the flesh and feathers sprout over your throat%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable sing" },
  { id = "fanged_mouth",
      line = "^You absorb the flesh and your incisors lengthen into sharp fangs%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "enable bite" },
  { id = "silver_mouth",
      line = "^You absorb the flesh and your tongue lengthens and turns silver%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "influence buff" },
  { id = "scaled_mouth",
      line = "^You absorb the flesh and scales harden over your lips%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "potion enhancer" },
  { id = "psychedelic_aura",
      line = "^You absorb the flesh and your aura warbles and flares with psychedelic moving lights%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "psychedelic: mental affs" },
  { id = "electric_aura",
      line = "^You absorb the flesh and electric charges crackle around your aura%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "damage" },
  { id = "stable_aura",
      line = "^You absorb the flesh and your aura stabilizes and strengthens you%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "stable: vitals regen" },
  { id = "fleshwork",
      line = "^Your flesh is prepared for transformations%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "def line" },
  { id = "pathway_def",
      line = "^You walk the Path of (%a+) and have (.-)%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "def line" },
  { id = "noflesh",
      line = "^You lack the proper flesh for that%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "no flesh" },
  { id = "robes",
      line = "^You place some flesh upon (.-)%, allowing it to be absorbed into the fibers%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "hides transformations" },
  { id = "fleshwork_def",
      line = "^Your flesh is prepared for mutations%.$",
      action = function (i, tbl) transmology_(i, tbl) end,
      notes = "fleshwork" },
}
