-- stealth

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.stealth = {
  { id = "blowgun_dart",
      line = "^(%a+) dips a dart into a vial%, and then shoots it through a blowgun at you%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "poison affs" },
  { id = "truss",
      line = "^Taking a rope%, (%a+) quickly trusses you up%, tightening the bindings until you can barely move%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "trussed!" },
  { id = "waylay",
      line = "^Leaping out from the shadows%, (%a+) suddenly waylays you%, throwing you to the ground and then standing menacingly over you%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "stun and sprawl" },
  { id = "rushing",
      line = "^(%a+) carefully rushes directly at you and trusses you up in the most clever manner possible%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "trussed up!" },
  { id = "drag",
      line = "^(%a+) drags you off to the (%a+)%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "you got dragged!" },
  { id = "blowgun_aim",
      line = "^A dart flies in from the (%a+) and strikes you%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "poison affs" },
  { id = "blowgun_obscure",
      line = "^A dart flies in seemingly out of nowhere and strikes you%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "poison affs" },
}

trigs.defs.stealth = {
  { id = "sneak",
      line = "^You step backwards%, sneaking into the cover of the shadows%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "sneak" },
  { id = "sneak_up",
      line = "^You already are sneaking around%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "sneak up" },
  { id = "sneak_def",
      line = "^You are sneaking around in the shadows%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "def line" },
  { id = "emerge",
      line = "^You step out of the cover of the shadows and cease sneaking around%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "emerge" },
  { id = "emerge_up",
      line = "^You already aren%'t sneaking around%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "emerge up" },
  { id = "bracing",
      line = "^Grabbing your wrists firmly in opposite hands%, you pull and brace yourself to absorb any damage dealt to you%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "bracing" },
  { id = "bracing_up",
      line = "^You are already bracing against damage%!",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "bracing up" },
  { id = "bracing_def",
      line = "^You are braced to absorb damage%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "def line" },
  { id = "awareness",
      line = "^You focus your senses to become hyperaware of your surroundings%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "awareness" },
  { id = "awareness_up",
      line = "^You are already aware of your surroundings%!",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "awareness up" },
  { id = "awareness_off",
      line = "^With a relaxing yawn%, you dull your senses and are no longer hyperaware of your surroundings%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "awareness off" },
  { id = "awareness_down",
      line = "^You are currently unaware of your surroundings already%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "awareness down" },
  { id = "agility",
      line = "^Running in place%, you stretch your muscles and enhance your agility and speed%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "agility" },
  { id = "agility_up",
      line = "You already have enhanced agility%!$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "agility up" },
  { id = "agility_def",
      line = "^Your agility is enhanced%.$",
      action = function (i, tbl) stealth_(i, tbl) end,
      notes = "def line" },
}
