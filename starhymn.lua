-- starhymn

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.starhymn = {
  { id = "starlight",
      line = "^A dazzling ringing enters your mind%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "starlight affs" },
  { id = "starchord",
      line = "^(%a+) plays .- and directs the stately notes towards you%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "fire/divinus damage" },
  { id = "starchord_2",
      line = "^Holy fire erupts at your feet and engulfs you%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "fire/divinus damage" },
  { id = "crusadercanto",
      line = "^The %a+ holy fire around (%a+) surges towards you%, enveloping your body in searing flames%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "extra damage: yellow, orange, white" },
  { id = "lightcantata",
      line = "^The song of an angelic choir fills the air with a blazing white light%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "forget the affs here" },
  { id = "lightcantata_2",
      line = "^You find you must cover your eyes and drop to your knees%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "sprawled" },
  { id = "princessfarewell",
      line = '^%".+%" sings (%a+)%, making .- fairly weep with tragic notes%, and [sS]?[hH]e looks directly at you%.$',
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "PRINCESS FAREWELL" },
  { id = "princessfarewell_2",
      line = "^Filled with a haunting sorrow and unlimited love%, an excruciatingly beautiful note brings tears to your eyes and a lump to your throat%. Time slows and momentarily a vision fills your eyes of a goddess floating over an ancient pool with tears streaming down her face%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "blackout, aeon, stun" },
  { id = "justchorale",
      line = "^The light of Holy Celestia flares brightly as the blessed Supernals judge you%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "what the hell does this spammy one do?" },
  { id = "avengingangel",
      line = "^In a blaze of holy fire%, an avenging angel descends from above%, alighting before you and glaring at you in a righteous fury that makes your knees weak and your spirit tremble%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "avenging angel affs" },
  { id = "recessional",
      line = "^You find yourself unwilling to eat while this music is playing%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "eat failed" },
  { id = "recessional_b",
      line = "^You find yourself unwilling to drink while this music is playing%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "drink failed" },
  { id = "eversea",
      line = "^Chimes sound as the water around you sparkles%, preventing the magical protection from forming%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "can't shield in water environment" },
  { id = "requiem",
      line = '^%".+%" sings (%a+)%, tragically playing .- with a mournful thrum%, and [sS]?[hH]e looks directly at you%.$',
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "DEATH SONG" },
  { id = "requiem_2",
      line = "^Clasping [hH]%a+ hands to [hH]%a+ breast%, (%a+) sings to you%, wishing you well on your journey to the Halls of the Fates%. A white light surrounds [hH]%a+ as the voices of an angelic choir join [hH]%a+ in this somber hymn%.$",
      action = function (i, tbl) starhymn_(i, tbl) end,
      notes = "GTFO now!" }, -- CHECK FOR TYPO ON 'Somber - Sombre'
}

trigs.defs.starhymn = {
  { id = "celestode", 
      line = "^The music here inspires you to greater heights%.$", 
      action = function (i, tbl) starhymn_(i, tbl) end, 
      notes = "celest ode" },
}
