-- aeromancy

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.aeromancy = {
  { id = "eastwind",
      line = "^A swift gust from the east pierces at your extremities%, plunging through your ([lr])%a+ ([al])%a+%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "piercedlimb" },
  { id = "dysbaricpressure",
      line = "^(%a+) raises [hH]%a+ arm and clenches [hH]%a+ fist%, causing air to swirl around you%. The wind suddenly tightens like painful%, constricting bands squeezing the breath from your body%, but you grit your teeth and persevere%, but you are left with more pressure than before%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "cloudcoils" },
  { id = "rainbowclouds",
      line = "^You run into a network of rainbows%, the light and colour confusing you and making you disoriented%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "confusion" },
  { id = "cyclone_cast",
      line = "^(%a+) releases [hH]%a+ staff%, which hovers in the air before [hH]%a+%. S?[hH]e raises up [hH]%a+ arms%, and clouds gather around a delicate crystal staff%, which lets loose forks of lightning%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "cyclone cast" },
  { id = "cyclone_1",
      line = "^From the four directions%, winds blow in and gather%, rotating slowly and gathering more momentum%. The clouds begin to twist as they follow in their wake%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "big damage incoming" },
  { id = "cyclone_2",
      line = "^Picking up speed%, the relentlessly churning winds become more powerful%, and lightning begins to strike out from among the swirling clouds%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "big damage incoming" },
  { id = "cyclone_3",
      line = "^A towering cyclone forms%, churning and twisting with the unrepentent force of the elements%, lightning running riot within its cavernous maw%. The winds pick you up and thrust you into the gauntlet of lightning blasts just before smashing you back into the ground%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "ouch" },
  { id = "thunderclouds",
      line = "^Thunder roars and a bolt of lightning strikes you%, knocking you to the ground%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "sprawl + negligible damage" },
  { id = "thunderclouds_2",
      line = "^Thunder roars and you are struck by a bolt of lightning%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "negligible damage" },
  { id = "thunderclouds_3",
      line = "^Thunder roars and a bolt of lightning strikes you%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "negligible damage" },
  { id = "thunderbird",
      line = "^An ear%-splitting thunderclap peals through the air as .- flares [hH]a+ wings%, opening [hH]%a+ beak and unleashing an orb of crackling white lightning towards you%, tendrils of electricity enveloping your body and causing your skin to blacken and body to spasm in pure agony%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "epilepsy + damage" },
  { id = "blizzard",
      line = "^The freezing blizzard nips at your fingers and toes%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "freeze" },
  { id = "whirlwind",
      line = "^(%a+) makes an elegant gesture with the back of [hH]%a+ hand%, and a whirlwind swiftly rises up%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "whirlwind: forced move if followed with - ^The whirlwind sweeps you off your feet and blows you to the (%a+)%.$" },
  { id = "northwind",
      line = "^A cold wind blows chill grey clouds in from the north%. The clouds circle around you%, suddenly constricting into a tight band of compressed air that makes it hard to breathe%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "cloudcoils" },
  { id = "southwind",
      line = "^A chilling wind from the south sends an odd scent to your nostrils%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "southwind affs: confusion, hallucinations, dementia, stupidity, paranoia" },
  { id = "miasma",
      line = "^A cloudy tendril lashes at you%, filling your mind with disturbing images%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "8% mana drain" },
  { id = "staffcast",
      line = "^(%a+) points [hH]%a+ staff at you%, and electricity crackles across its length before it discharges a bolt of blue lightning that slams into you in an explosion of cobalt sparks%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "damage" },
  { id = "tempest",
      line = "^(%a+) raises [hH]%a+ arms over [hH]%a+ head and spins around%. Winds build up around [hH]%a+%, then are released in a whirling tempest that lashes the air around you%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "room damage: hit by if followed with: ^You are severely battered by the cold winds from the raging tempest%.$" },
  { id = "raisestaff",
      line = "^(%a+) raises [hH]%a+ staff and a blast of wind whips around you%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "lev_strip or skyfling: ^The wind lifts you up into the air and flings you into the sky%.$" },
  { id = "raisestaff_iasmos",
      line = "^(%a+) raises [hH]%a+ staff and a blast of wind whips around you%, stripping your levitation defence and forcing you to the ground%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "CHECK THIS LINE" },
  { id = "twister",
      line = "^You are caught in a powerful twister that hurtles you to the ground%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "CHECK THIS LINE" },
  { id = "airnet",
      line = "^As you rise into the air%, you are entangled in an invisible net and fall back to the ground%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "CHECK THIS LINE" },
}

trigs.defs.aeromancy = {
  { id = "windwalk_def",
      line = "^You can walk on the winds%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "windwalk def, overlap with aerochemantics" },
  { id = "windwalking",
      line = "^You deftly walk around the strongly blowing wind%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "windwalking, overlap with aerochemantics" },
  { id = "windwalk",
      line = "^You walk around in a small circle%, allowing your presence to bond with the air around you%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "windwalk, overlap with aerochemantics" },
  { id = "windwalk_up",
      line = "^You are already walking upon winds%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "windwalk up, overlap with aerochemantics" },
  { id = "windwalk_ascend",
      line = "^You walk the winds up into the sky%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "flying elevation, overlap with aerochemantics" },
  { id = "windwalk_descend",
      line = "^You walk the winds down to the ground below%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "descend, overlap with aerochemantics" },
  { id = "westwind",
      line = "^You turn to the west and raise your arms%. A warm breeze rushes in%, bringing a clean%, sweet scent%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "westwind_cast" },
  { id = "westwind_tick",
      line = "^A westerly breeze brings in a clean%, sweet scent that invigorates your body%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "enable passive cure" },
  { id = "swiftwind",
      line = "^Laughing with delight%, you leap about the room%, calling forth a swift wind%. The wind blows in with a great whoosh%, sending clouds spinning in its wake%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "swiftwind" },
  { id = "swiftwind_tick",
      line = "^You are lifted up by a swift wind and suddenly feel exhilirated%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "slight eq boost" },
  { id = "staff",
      line = "^You lift your hands over your head and dark clouds form above you%. Thunder crashes and booms%, heralding forks of lightning that crack loudly and blast against the ground%. You catch one thunderbolt in your hands%, the electricity thrumming between your fingers like slick ice%. With a cry of triumph%, you wrest the lightning to the ground%, where it quickly solidifies into a delicate crystal staff%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "staff" },
  { id = "staffcast",
      line = "^You point your staff at (.-)%, and electricity crackles across its length before it discharges a bolt of blue lightning that slams into (.-) in an explosion of cobalt sparks%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "staffcast" },
  { id = "staffcast_kill",
      line = "^Electricity coursing through [hH]%a+ body%, (.-) finally collapses in a twitching heap%.$",
      action = function (i, tbl) aeromancy_(i, tbl) end,
      notes = "kill" },
}
