-- moon

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.moon = {
  { id = "succumb",
      line = "^Whispering to [hH]%a+self%, (%a+) points at you and a silver light flashes across your field of vision%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "mana drain, delayed reishi cure" },
  { id = "succumb_symptom",
      line = "^A silver light weights upon you%, draining your mental energies%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "mana drain" },
  { id = "waning",
      line = "^With a slow%, jerking dance%, (%a+) points at you and lowers [hH]%a+ arms%, and you feel the world about you slow%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "standard aeon" },
  { id = "dark_target",
      line = "^(%a+) moves [hH]%a+ feet in a rhythmic dance and raises a palm before [hH]%a+ eyes%, blocking you from sight%. As [sS]?[hH]e slowly turns widdershins%, a dark silver glow pours down from above%, surrounding you briefly%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "moon dark, def strip + affs" },
  { id = "dark_2",
      line = "^The world spins in darkness as the curse of the dark moon hits you%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "hit by dark" },
  { id = "moonburst",
      line = "^(%a+) thrusts [hH]%a+ palm towards you and a burst of silver light shoots from it and hits you%, burning you painfully%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "damage" },
  { id = "moonfire",
      line = "^(%a+) lifts [hH]%a+ hands and cups them vertically over [hH]%a+ heart whilst closing [hH]%a+ eyes%. Suddenly%, great gouts of azure moonfire leap out from [hH]%a+ hands and swirl about you in a deadly miasma%, the lunar flames scorching flesh and spirit%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "damage" },
}

trigs.defs.moon = {
  { id = "aura",
      line = "^You dance to the spirit of the moon%, asking for protection%. A soft light suffuses you%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "magic dmp" },
  { id = "aura_def",
      line = "^You have the aura of the moon protecting you%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "def line" },
  { id = "waxing",
      line = "^You dance joyously to the spirit of the Moon and are bathed in a soft lunar light which suffuses your body%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "health regen" },
  { id = "waxing_over",
      line = "^The soft lunar light suffusing your body fades away%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "health regen down" },
  { id = "drawdown",
      line = "^You form a triangle with your hands and frame the moon within%. After whispering devotions to the moon%, you lower your hands and feel the power of the moon suffuse your very spirit%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "drawdown" },
  { id = "drawdown_def",
      line = "^The moon has been drawn closer to you%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "def line" },
  { id = "moonburst",
      line = "^You thrust your palm towards (.-) and a burst of silver light shoots out from it burning into (.-)%, who cries out in pain%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "moonburst" },
  { id = "moonburst_kill",
      line = "^A frown on (.-)%'s face suddenly changes to horror as [hH]%a+ skin begins to glow with an inner silver light%. Moonlight erupts from the pores of [hH]%a+ skin as [sS]?[hH]e tries to scream but is instead consumed by the power of the moon%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "moonburst kill" },
  { id = "shine",
      line = "^Raising your hands over head%, you beseech Mother Moon for her many blessings%. A shaft of moonlight falls upon you%, soaking into your skin and filling you with the throbbing cycle of phases%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "varies with moon phase" },
  { id = "shine_def",
      line = "^You are shining with the light of the (.-)%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "def line" },
  { id = "daytime",
      line = "^You scan the skies for the moon%, but it is nowhere to be found%.$",
      action = function (i, tbl) moon_(i, tbl) end,
      notes = "can't raise some defs" },
}
