-- wyrdenwood

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.wyrdenwood = {
  { id = "barktouch",
      line = "^(%a+) touches you with one of [hH]%a+ branches and your flesh slowly begins to turn to bark%.$",
      action = function (i, tbl) wildewood_(i, tbl) end,
      notes = "damage" },
  { id = "leaves_oozing",
      line = "^(%a+)%'s oozing leaves stretch forth upon twined vines from [hH]%a+ trunk like a putrescent arm and take hold of you in their deadly embrace%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "dysentery" },
  { id = "branches_deadened",
      line = "^One of (%a+)%'s branches suddenly lashes out%, striking you and leaving a seeping%, putrescent wound%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "disloyalty" },
  { id = "leaves_pepper",
      line = "^(%a+)%'s pepper leaves slice you like a fountain of blood%, leaving blistering pain where the wounds seep%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "masochism" },
  { id = "leaves_worm",
      line = "^A wriggling mass of (%a+)%'s worm leaves covers you%, making your skin fester and crawl%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "worms" },
  { id = "swarm_insect",
      line = "^The sound of a hungry swarm of insects crescendos into a violent scream of buzzing and chittering%, emanating from (%a+)%'s treehollow%. An eerie calm descends as thousands of multi%-faceted red eyes spill forth from [hH]%a+ trunk%, clogging the air%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "INSECT SWARM IN 10 SECONDS" },
  { id = "swarm_insect_2",
      line = "^As the hungry swarm of insects falls prey to bloodlust%, their numbers seem to swell and they rise up prepared to feed as one%, the maddening buzzing roaring like thunder%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "INSECT SWARM HITTING ENEMIES" },
  { id = "swarm_insect_3",
      line = "^The sound of a hungry insect swarm precedes thousands of tiny%, black shadows with red%, multi%-faceted eyes that engulf you in a frenzy of blood%, pain%, and agony%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "INSECT SWARM HIT: Dysentery + Masochism" },
  { id = "swarm_insect_room",
      line = "A black haze of buzzing and swarming insects infests the area%, their manifold eyes red and full of hatred%.",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "room look appearance" },
  { id = "vine_flail",
      line = "^(%a+) sends [hH]%a+ thornvine lashing through the air at you with all the mounting force of a falling tree%. As it makes contact with a vicious crack%, its tip opens wide to reveal razor%-sharp teeth that bite and tear at your flesh%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "damage + bleed(?)" },
  { id = "swarm_wasp",
      line = "^A black cloud haunts the skies above (%a+)%'s branches and a wyrden flame ignites within [hH]%a+ treehollow%. As if called by the coldfire%, a hive of wasps descends into %a+%'s canopy%, its angry buzzing permeating the air%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "WASP SWARM IN 10 SECONDS" },
  { id = "swarm_wasp_2",
      line = "^A deafening howl of buzzing choruses through the air as the swarm of blackened wasps permeates the area with unfettered hatred%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "WASP SWARM HITTING ENEMIES" },
  { id = "swarm_wasp_3",
      line = "^A swarm of buzzing and shadows swallows you like a living flame%, tearing your flesh apart with the stinging of hundreds of angry wasps%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "WASP SWARM HIT: Paralysis + ~700 Bleeding" },
  { id = "swarm_wasp_room",
      line = "Blackened and blood%-covered wasps tarnish the air with their presence%, their silver stingers glinting and their translucent wings fanning a frenzied current into being%.",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "room look appearance" },
  { id = "leaves_blood",
      line = "^(%a+)%'s blood leaves rain from [hH]%a+ withered canopy and shower you in a red haze%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "~300 bleeding" },
  { id = "branches_razor",
      line = "^You catch yourself on (%a+)%'s razor%-sharp bark%, opening a thin wound that bleeds copiously%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "reactive bleeding, ~500" },
  { id = "swarm_hornet",
      line = "^A rippling miasma of shadows and the ominous sounds of buzzing prelude the creation of a black hornet%'s nest in the withered branches of (%a+)%'s canopy%. Rotting flesh and the bones of children peek out from the viscous strands of its creation%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "HORNET SWARM IN 10 SECONDS" },
  { id = "swarm_hornet_2",
      line = "^The air fills with the low%, threatening buzzing of thousands of blood%-frenzied hornets%. As the sound rises%, the black miasma of tiny shapes spreads like a thick cancer through the air%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "HORNET SWARM HITTING ENEMIES" },
  { id = "swarm_hornet_3",
      line = "^A stream of laser%-focused black shapes descends upon you%, their vicious buzzing a paralyzing sound%. In a cyclone of dark fury%, they rip and tear into your skin%, leaving sores and oozing poison in their wake%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "HORNET SWARM HIT: Blacklung" },
  { id = "swarm_hornet_room",
      line = "The dark%, twisting shape of a hornet swarm hangs like a pall in the air%.",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "room look appearance" },
  { id = "vine_noose",
      line = "^(%a+) sends [hH]%a+ thornvine lashing through the air at you with all the mounting force of a falling tree%. As the vine strikes your body%, it wraps your neck and forcefully chokes the breath from your lungs%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "entangle + bleeding?" },
  { id = "vine_noose_ranged",
      line = "^(%a+) whips [hH]%a+ thornvine at you from the (%a+)%. It wraps painfully around your neck%, choking you violently and leaving bleeding wounds where the thorns pressed into your flesh%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "entangle + bleeding from range" },
  { id = "branches_thorn",
      line = "^With a low groan, (%a+)%'s thorny branches twist%, reaching down to slice suddenly across your chest%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "haemophilia" },
  { id = "branches_tangled",
      line = "^A sweeping movement from (%a+)%'s boughs draws down a long%, tangling branch that binds you tightly and snaps off%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "reactive entangle" },
  { id = "creeping_doom",
      line = "^A pool of shadows and decay floods out from (%a+)%'s treehollow and pours down [hH]%a+ trunk%. A blanket of sinisterly chittering insects%, their multi%-faceted eyes glowing a deep red%, manifests from within the murky shadows and slowly creeps across the ground in an impassable carpet of hunger%, rage, and doom%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "CREEPING DOOM IN 10 SECONDS" },
  { id = "creeping_doom_2",
      line = "^A tidal wave of shadows and crawling%, writhing insects blots out the skies and finally crests%, covering the ground in a creeping blanket of hunger and rage%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "CREEPING DOOM HITTING ENEMIES" },
  { id = "creeping_doom_3",
      line = "^Like a vile%, unstoppable disease%, the blanket of red%-eyed insects that has infested the ground surges forward and coils its way up your legs%. Before you can even begin to fend them off%, they have already wormed%, slithered%, crawled%, and eaten their way inside of you%, spreading their dread contagions far and wide%, deep within the inner sanctum of your body%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "CREEPING DOOM HIT: stun + damage" },
  { id = "creeping_doom_room",
      line = "Pulsing as one and screaming with millions of insectoid voices%, a blanket of creeping horrors infests the ground%.",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "room look appearance" },
}

trigs.defs.wyrdenwood = {
  { id = "nature_curse",
      line = "^You hold your talisman out and channel the force of nature through you%. Small brown patches appear all over .- as [hH]%a+ flesh and sinew rots and composts in an instant%, falling to the ground in a stream of mulch%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "nature curse" },
  { id = "nature_curse_kill",
      line = "^.-%'s body has fully decomposed and [sS]?[hH]e collapses to the ground%, quickly becoming nothing more than a pile of nutrient%-rich%, steaming soil%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "nature curse kill" },
  { id = "barktouch",
      line = "^You touch .- with one of your branches and [hH]%a+ flesh slowly begins to turn to bark%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "barktouch" },
  { id = "barktouch_kill",
      line = "^The bark spreads across the surface of .-%'s skin until it encases [hH]%a+ completely and collapses into nothing more than a pile of splinters%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "barktouch" },
  { id = "transmute",
      line = "^You exert your dark will upon the shadowy essence and produce (.-) globs of (%a+) sap%, a flash of cold wyrden fire burning deep within your treehollow%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "transmute" },
  { id = "seepingbark",
      line = "^Deep sores and shredded gashes slash across your trunk as you exert your will upon your own latent Wyrden presence%. Where pain and wounds once existed%, a seeping bark now grows in response to your sacrifice%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "seeping bark, poison dmp" },
  { id = "seepingbark_up",
      line = "^You already have seeping bark over your skin%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "seeping bark up" },
  { id = "deadenedbranches",
      line = "^You meditate upon the loyalty of the Wyrd and force your withered branches to take life%, suffusing them with a cold%, deadened energy%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "deadened branches: disloyalty" },
  { id = "deadenedbranches_up",
      line = "^Your boughs are already filled with deadened branches%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "deadened branches up" },
  { id = "fibrousbark",
      line = "^You will a fleshy%, rotting moss to climb up your trunk in a steady procession until it covers you completely%. When it is fully grown%, it flexes and solidifies into a fibrous bark%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "fibrous bark, blunt dmp" },
  { id = "fibrousbark_up",
      line = "^You already have fibrous bark over your skin%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "fibrous bark up" },
  { id = "wyrdenbark",
      line = "^Your eyes burn a deep red as your trunk sloughs off a layer of itself to reveal a blackened wyrden bark in its stead%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "wyrdenbark, barkguard ability" },
  { id = "wyrdenbark_up",
      line = "^You already have wyrden bark over your skin%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "wyrden bark up" },
  { id = "barkguard",
      line = "^You snarl a deep%, throaty note to an elder ravenwood tree%, embracing the strength of the Wyrd%. A rich%, dark energy floods up through your roots and as you touch the tree%, its bark turns slightly darker and its leaves become tinged with flecks of crimson and mauve%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "barkguard" },
  { id = "barkguard_up",
      line = "^This tree%'s bark is already impervious to harm%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "barkguard up" },
  { id = "leaves_grow",
      line = "^You allow a rivulet of sap to flow from the cavernous depths of your treehollow%, leaving a trail of (%a+) leaves along your bough%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "grow leaves. oozing - dysentery, pepper - masochism, worm - worms, blood - bleeding" },
  { id = "vine_grow",
      line = "^The power of the Wyrd responds to your summons and the ground beneath you twists and evolves rapidly before your eyes%. Moments later%, a thick burl of tendril%-like vines breaks through the wyrden ground%, rises into the air on a thin%, spindly stalk%, and attaches itself to your canopy like a demented sprig of mistletoe%. You breathe life into the vines with but a thought and they begin to writhe like so many hungry spiders%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "vine grow" },
  { id = "vine_flail",
      line = "^You send your thornvine lashing through the air at .- with all the mounting force of a falling tree%. As it viciously cracks against your victim%, its tip opens wide to reveal razor%-sharp teeth that bite and tear at .-%'s flesh before you pull them back for another strike%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "vine flail" },
  { id = "vine_flail_kill",
      line = "^The veins in .-%'s body swell and convulse as the poison from the thornvine takes hold%. Sensing that its victim is weak%, the flailing vine renews the force of its savage consumption and tears .-%'s body apart%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "flail kill" },
  { id = "oozing_focus",
      line = "^Your oozing leaves stretch forth upon twined vines from your trunk like a putrescent arm and take hold of (%a+) in their deadly embrace%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "oozing attack" },
  { id = "pepper_focus",
      line = "^A spray of your pepper leaves slices (%a+) in pain%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "pepper attack" },
  { id = "worm_focus",
      line = "^Your writhing worm leaves explode outward like a rotting mushroom spore and cover (%a+)%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "worm attack" },
  { id = "blood_focus",
      line = "^A rain of your blood leaves pours from your withered canopy%, showering (%a+) in a red haze%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "blood attack" },
  { id = "clingingbranches",
      line = "^You flex the branches in your eaves%, stretching a few down to your roots%. Flooding the most flexible ones with Wyrden fire%, they each sprout off a hundred smaller branches%, which sprout further%, until they hang down heavily beside you%, ready to snag and cling to the smallest objects%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "summon resist" },
  { id = "clingingbranches_up",
      line = "^Your boughs are already filled with clinging branches%.$",
      action = function (i, tbl) wyrdenwood_(i, tbl) end,
      notes = "clinging branches up" },
}
