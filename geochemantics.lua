-- geochemantics

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.geochemantics = {
  { id = "magnum",
      line = "^(%a+) swings [hH]%a+ magnum blastworks from its hook and points it at you%. The magnum blastworks rattles ominously as an explosive plume of caustic fumes and iron shrapnel billows forward%, leaving a dense and sickly haze surrounding you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "magnum" },
  { id = "annihilate",
      line = "^(%a+) flips down the nozzle on [hH]%a+ magnum blastworks%, expelling taint fumes from [hH]%a+ iron tanks to transform and focus the caustic blast%. An explosive plume of black fumes billows forward%, leaving a dark haze surrounding you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "annihilate" },
  { id = "ferrous",
      line = "^You pale as a tendril of (%a+)%'s rust%-coloured ferrous fumes wafts past you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "asthma, was vomiting: You are afflicted with asthma." },
  { id = "chemical",
      line = "^The air in front of you shimmers and your head spins as (%a+)%'s clear chemical fumes overwhelm you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "dizziness, You are afflicted with dizziness." },
  { id = "toxic",
      line = "^A cloud of (%a+)%'s green toxic fumes washes over you%, turning your skin a mottled purple%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "pox, You are afflicted with pox." },
  { id = "taint",
      line = "^(%a+)%'s black taint fumes surround you%, clinging to you like a second shadow%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "damage/heal for geochem, 50/50 poison/asphyx damage" },
  { id = "pollutedstuds",
      line = "^Your attack strikes one of (%a+)%'s polluted studs%, which spews a corrosive substance at you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "damage" },
  { id = "rustedspikes",
      line = "^(%a+) twists toward you%, snagging one of [hH]%a+ rusted spikes on your arm and tearing open a deep gouge%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "relapsing, was off balance" },
  { id = "rustedspikes_old",
      line = "^(%a+) twists toward you%, one of [hH]%a+ rusted spikes throwing you off balance%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "redundant?" },
  { id = "filthpump",
      line = "^(%a+) convulses%, a stream of thick%, putrid liquid spewing from [hH]%a+ filth pump at you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "rigormortis" },
  { id = "cranialimplant",
      line = "^(%a+)%'s cranial implant flares%, a thin crackle of energy igniting the fumes surrounding [hH]%a+ in tiny flashes on its way to strike you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "masochism, was healthleech" },
  { id = "metalstorm_cast",
      line = "^(%a+) collects [hH]%a+ ferrous fumes into a dense cloud before [hH]%a+%, slowly feeding chemical fumes into the rusty miasma to begin the transformative reaction%. As the reaction reaches its critical limit%, the dense fumes explode outward from [hH](%a+)%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "dizziness/vomiting" },
  { id = "metalstorm_room",
      line = "A snaking miasma of rusty fumes swirls about the area%.",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "room look appearance" },
  { id = "metalstorm_hit",
      line = "^The snaking miasma of rusty fumes suddenly grows darker%, and the metallic taste intensifies as the air grows thick and deadened%. The reaction reaches its climax as the rusty fumes condense into white%-hot metallic shards%, which explode in all directions%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "hitting enemies" },
  { id = "metalstorm_afflict",
      line = "^You are raked by the white%-hot metallic shards%, which leave your skin tattered and torn%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "dizzy/vomiting + damage" },
  { id = "foul_cast",
      line = "^Turning%, (%a+) sends [hH]%a+ chemical and toxic fumes swirling together%. Where they touch%, the green toxic gas turns briefly a dark brown%. With a casual gesture%, [hH]%a+ sends? the swirling cords of fumes speeding outward%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "dizziness/pox, CHECK TYPO" },
  { id = "foul_room",
      line = "A thick%, swirling green%-brown cord of fumes wraps around the area%.",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "room look appearance" },
  { id = "foul_hit",
      line = "^The thick%, swirling cord of fumes suddenly contracts%, the reaction reaching its climax and turning entirely dark brown as it grows to fill the area with choking%, bitter fumes%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "hitting enemies" },
  { id = "foul_afflict",
      line = "^The brown fumes surround you%, making your eyes water as your skin pales into a light grey%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "dizziness/pox + damage" },
  { id = "contagion_cast",
      line = "^(%a+) allows [hH]%a+ chemical%, toxic and taint fumes to mix%, turning the air around [hH]%a+ a sickly green threaded with veins of black%. The cloud grows quickly%, crawling along the ground away from from [hH]%a+ in all directions%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "contagion affs" },
  { id = "contagion_room",
      line = "A sickly green haze threaded with veins of black crawls along the ground here%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "room look" },
  { id = "contagion_hit",
      line = "^A soft buzzing begins to rise from the haze%, bloated green flies crawling from within the black veins threaded throughout it%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "hitting enemies" },
  { id = "contagion_afflict",
      line = "^The bloated flies dive toward you%, their metallic teeth ripping at your flesh as the sickly green haze crawls slowly up you%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "contagion affs + damage" },
  { id = "taintbomb_cast",
      line = "^(%a+) mixes all of [hH]%a+ fumes before [hH]%a+%, the reactions racing out of control as they feed upon the dark power of [hH]%a+ taint fumes%. The deep black haze rises above [hH]%a+%, extending in all directions to darken the sky%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "aff dependent damage + stun" },
  { id = "taintbomb_room",
      line = "A deep black haze hangs above you%, blocking out the sky%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "room look" },
  { id = "taintbomb_hit",
      line = "^As though answering the call of the earth%, the deep black haze crashes down upon you%. As it reaches the ground%, it explodes in buffeting waves of power%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "hitting enemies" },
  { id = "taintbomb_afflict",
      line = "^The buffeting waves of power rock over you%, leaving your senses reeling as the ground beneath your trembles%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "stun + damage" },
  { id = "contamination_Cast",
      line = "^(%a+) expels a dense cloud of all four fumes around [hH]%a+ in a sudden exhaust%. The fumes mix slowly in the air%, becoming dark and opaque as the controlled reactions proceed%. The polluted cloud diffuses around [hH]%a+%, growing darker to become an almost solid thing%, clinging and greasy to the touch%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "contamination up, don't hold breath" },
  { id = "contamination_on_inhale",
      line = "^You inhale (%a+)%'s contamination%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "damage" },
  { id = "contagionaff_on_asphyx",
      line = "^You cough and hack desperately as your lungs bubble and froth with blood%, expelling some darkly poisoned tissue from your body%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "contagion aff" },
}

trigs.defs.geochemantics = {
  { id = "transmute",
      line = "^You clench your fist above a bit of dark essence%, dirt flaking off to fall onto it%. As the dirt touches it%, you hear a faint sizzle as the Geochemantic reactions proceed%. You deftly manipulate and capture within your iron tanks the (.-) fumes of (%a+) reagent produced from the reaction%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "transmute" },
  { id = "neckbolts",
      line = "^Moulding the iron bars into thick bolts%, you expel ferrous fumes from a nozzle on your iron tanks onto the metal%. Carefully guiding the metal%'s reaction to empower your excorable force%, you press the bolts into the sides of your neck%. Your flesh yields readily to the pressure of the metal%, each bolt quickly sinking into your neck until it is anchored against your spine%. The metal warms beneath your hands as it fuses to your bone and your flesh adheres to the earthen presence%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "excorable damage buff" },
  { id = "neckbolts_def",
      line = "^You have neck bolts for another (%d+) months%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "def line" },
  { id = "ironbourne",
      line = "^You reach behind you and release the valve on all of your tanks%, quickly flooding the air around you with a putrid conflux of chemical fumes which surround you in a dark%, choking haze%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "fumes up" },
  { id = "fumes_focus",
      line = "^You focus your fumes upon (%a+)%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "focused fumes" },
  { id = "fumes_unfocus",
      line = "^You allow your fumes to spread freely and without focus%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "unfocused fumes" },
  { id = "magnum_blast",
      line = "^You swing your magnum blastworks from its hook and point it at (.-)%, the ferrous, chemical and toxic fumes expelled from your iron tanks mixing deep within its tangled tubing%. The magnum blastworks rattles ominously as an explosive plume of caustic fumes and iron shrapnel billows forward%, leaving a dense and sickly haze surrounding (.-)%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "magnum blast" },
  { id = "visual_blast_kill",
      line = "^(.-) collapses from the caustic fumes%, bleeding from numerous lacerations%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "visual kill" },
  { id = "magnum_annihilate",
      line = "^You flip down the nozzle on your magnum blastworks%, expelling taint fumes from your iron tanks to transform and focus the caustic blast%. An explosive plume of black fumes billows forward, leaving a dark haze surrounding (.-)%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "magnum annihilate" },
  { id = "visual_annihilate_kill",
      line = "^(.-) is annihilated by the excorable power of the fumes%, dropping to the ground a blackened husk%.$",
      action = function (i, tbl) geochemantics_(i, tbl) end,
      notes = "visual annihilation" },
}
