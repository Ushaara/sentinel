-- ninjakari

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.ninjakari = {
  { id = "jakari_limb",
      line = "^(%a+) whips you with .+%, lashing the skin from your ([lr])%a+ ([al])%a+%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "basic jakari" },
  { id = "jakari_nonlimb",
      line = "^(%a+) whips you with .+%, lashing the skin from your ([hcg])%a+%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "basic jakari nonlimb" },
  { id = "mod_ochai",
      line = "^(%a+) jerks back .- as it strikes%, lacerating the flesh%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "extra bleeding" },
  { id = "ninchu_limb",
      line = "^Twirling .- so fast that it whistles%, (%a+) grazes your ([lr])%a+ ([al])%a+%, opening up a deep gash%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "mo building action" },
  { id = "ninchu_nonlimb",
      line = "^Twirling .- so fast that it whistles%, (%a+) grazes your ([hcg])%a+%, opening up a deep gash%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninchu nonlimb" },
  { id = "ninshi_limb",
      line = "^Taking .- in two hands%, (%a+) throws it out to its full length%, then whips it down upon you%, tearing your flesh and coiling it tightly about your ([lr])%a+ ([al])%a+%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninshi_bodypart, stops applies" },
  { id = "ninshi_nonlimb",
      line = "^Taking .- in two hands%, (%a+) throws it out to its full length%, then whips it down upon you%, tearing your flesh and coiling it tightly about your ([hcg])%a+%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninshi_nonlimb, stops applies" },
  { id = "ninshi_yank",
      line = "^(%a+) wraps .- about [hH]%a+ wrists and wrenches it violently from you%, tearing skin and mincing flesh%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "removed chain, bleeding?" },
  { id = "symptom_ninshi_salve_limb",
      line = "^The chain coiled around your ([lr])%a+ ([al])%a+ turns the (%a+) salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninshi symptom salve limb - capture mending/regen/healing" },
  { id = "symptom_ninshi_salve_tight_limb",
      line = "^The chain coiled tightly around your ([lr])%a+ ([al])%a+ turns the salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninshi salve tight limb" },
  { id = "symptom_ninshi_salve_nonlimb",
      line = "^The chain coiled around your ([hcg])%a+ turns the salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninshi symptom salve nonlimb" },
  { id = "symptom_ninshi_salve_tight_nonlimb",
      line = "^The chain coiled tightly around your ([hcg])%a+ turns the salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninshi symptom salve tight nonlimb" },
  { id = "symptom_ninshi_healing_limb",
      line = "^The chain coiled around your ([lr])%a+ ([al])%a+ turns the healing salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "health application prevented limb" },
  { id = "symptom_ninshi_tight_healing_limb",
      line = "^The chain coiled tightly around your ([lr])%a+ ([al])%a+ turns the healing salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "symptom ninshi tight healing limb" },
  { id = "symptom_ninshi_healing_nonlimb",
      line = "^The chain coiled around your ([hcg])%a+ turns the healing salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "symptom ninshi healing nonlimb" },
  { id = "symptom_ninshi_tight_healing_nonlimb",
      line = "^The chain coiled tightly around your ([hcg])%a+ turns the healing salve brown and useless%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "symptom ninshi tight healing nonlimb" },
  { id = "mod_dhatogh",
      line = "^The chain catches your ankle and pulls your feet from under you%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "sprawled, can stun" },
  { id = "mod_bhaddogho",
      line = "^.- spins you in a circle so fast that you are left reeling and nauseous%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "stun + dizzy/confusion" },
  { id = "mod_ninoaghi",
      line = "^Jerked off your feet%, you slam heavily against the ground%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "sprawled + stun" }, -- yank only
  { id = "akogh_head",
      line = "^Springing up%, (%a+) whirls [hH]%a+ leg around%, pounding your head with such force that your eyeballs burst excruciatingly%, dribbling wet ooze down your cheeks%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "blind + stun?" },
  { id = "akogh_head_2",
      line = "^Springing up%, (%a+) whirls [hH]%a+ leg around%, pounding your head%, and you reel backwards as your vision blurs%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "blind" },
  { id = "akogh_chest",
      line = "^Springing up%, (%a+) whirls [hH]%a+ leg around%, pounding your chest with [hH]%a+ heel viciously%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "breakchest" },
  { id = "akogh_gut",
      line = "^Springing up%, (%a+) whirls [hH]%a+ leg around%, pounding your gut with such force that your head snaps back and you see nothing but stars%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "wind" },
  { id = "akogh_limb",
      line = "^Springing up%, (%a+) whirls [hH]%a+ leg around%, pounding your ([lr])%a+ ([al])%a+ with such force that your limb crunches and dangles uselessly%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "brokenlimb" },
  { id = "ninombhi_head",
      line = "^(%a+) snaps .- at your throat%, crushing your windpipe%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "crushed windpipe" },
  { id = "ninombhi_chest",
      line = "^(%a+) snaps .- at your chest%, snapping some ribs%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "snapped rib?" },
  { id = "ninombhi_gut",
      line = "^(%a+) snaps .- at your gut%, making you double over and spew bloody vomit%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "vomiting or vomitblood?" },
  { id = "ninombhi_limb",
      line = "^(%a+) snaps .- at your ([lr])%a+ ([al])%a+%, which then dangles uselessly at your side%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "numb limb" },
  { id = "mod_ninughi",
      line = "^Your ([lr])%a+ ([al])%a+ breaks with a loud crack%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "broken limb" },
  { id = "mod_ninughi_arm",
      line = "^Your ([lr])%a+ arm flops uselessly as your elbow emits a loud popping crack%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "cracked elbow" },
  { id = "mod_ninughi_leg",
      line = "^Your ([lr])%a+ leg buckles as your kneecap emits a loud popping crack%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "cracked kneecap" },
  { id = "ninukhi",
      line = "^The chain around you tightens%, and you are jerked off to the (%a+)%, falling before the feet of (%a+)%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "chaindrag" },
  { id = "mod_ninaali",
      line = "^You begin to twitch uncontrollably%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "trembling" },
  { id = "mod_illgathoru_head",
      line = "^Blood pours from the jagged wounds on your head%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "herp derp" }, -- yank only
  { id = "mod_illgathoru_chest",
      line = "^You reel backwards as blood splurts out of your chest%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "severedphrenic" },
  { id = "mod_illgathoru_arm",
      line = "^You scream as the chain tears through a nerve in your ([lr])%a+ arm%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "severednerve"},
  { id = "mod_illgathoru_gut",
      line = "^The chain tears open your belly%, causing bloody innards to be exposed%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "slicedgut" },
  { id = "mod_illgathoru_leg",
      line = "^Your ([lr])%a+ leg buckles as the chain nearly saws it off%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "tendon" },
  { id = "ninthugi_head",
      line = "^With a flick of [hH]%a+ wrist%, (%a+) wraps .- around your head and then jerks it off with a violent twist%, causing your skull to crack and bleed%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "brokenskull" },
  { id = "ninthugi_chest",
      line = "^With a flick of [hH]%a+ wrist%, (%a+) wraps .- around your chest and then jerks it off with a violent twist%, causing your ribcage to crack and splinter%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "breakchest" },
  { id = "ninthugi_limb",
      line = "^With a flick of [hH]%a+ wrist%, (%a+) wraps .- around your ([lr])%a+ ([al])%a+ and then jerks it off with a violent twist%, causing your limb to twist at an alarming angle%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "twisted limb" },
  { id = "ninthugi_gut",
      line = "^With a flick of [hH]%a+ wrist%, (%a+) wraps .- around your gut and then jerks it off with a violent twist%, causing the blood to spout from your mouth%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "dysentery" },
  { id = "umubah",
      line = "^With a deft pirouette%, (%a+) whirls .- about [hH]%a+self%, bringing it crashing into the side of your (%a+)%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "head: blackout/blackeye/confusion, chest: wind" },
  { id = "oolibah_limb",
      line = "^With a look of concentration%, (%a+) unleashes a powerful kick at your ([lr])%a+ ([al])%a+%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ninjakari kick, numbs" },
  { id = "oolibah_nonlimb",
      line = "^With a look of concentration%, (%a+) unleashes a powerful kick at your ([hcg])%a+%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "oolibah nonlimb" },
  { id = "mod_constrict",
      line = "^.- rips from your throat with such force that bits of flesh fly into the air and your head almost spins around in a full circle%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "blackout, unconsciousness" },
  { id = "ashlamkh_head",
      line = "^(%a+) lashes out at your head with .+%, causing your jaw to shatter into pieces%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "shattered jaw" },
  { id = "ashlamkh_chest",
      line = "^(%a+) lashes out at your chest with .+%, crushing it with a heavy thud and making breathing difficult%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "crushed chest" },
  { id = "ashlamkh_limb_break",
      line = "^(%a+) lashes out at your ([lr])%a+ ([al])%a+ with .+%, snapping the bone with a crunch%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "broken limb, can unwield/sprawl" },
  { id = "ashlamkh_limb_mangle",
      line = "^(%a+) lashes out at your ([lr])%a+ ([al])%a+ with .+%, mangling it with a fleshy thud%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "assuming mangled limb" },
  { id = "ashlamkh_gut",
      line = "^(%a+) lashes out at your gut with .+%, rupturing it and leaving a gaping wound%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "ruptured stomach" },
  { id = "ughathalogg",
      line = "^With the whistling of .- reaching a high%-pitched whine%, (%a+) swings [hH]%a+ chain into your gut%, tearing open the torso as organs burst forth in an explosion of blood%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "burst organs, timed insta" },
  { id = "ughathalogg_2",
      line = "^With the whistling of .- reaching a high%-pitched whine%, (%a+) swings [hH]%a+ chain at you%, but you are able to jump mostly out of the way for a glancing blow%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "not sure what does on failure" },
}

trigs.defs.ninjakari = {
  { id = "jakari",
      line = "^With a deft flick of your wrist%, you whip (.-) with .-%, lashing the skin from [hH]%a+ flesh%.$",
      action = function (i, tbl) ninjakari_(i, tbl) end,
      notes = "jakari attack"}
}
