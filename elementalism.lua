-- elementalism

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.elementalism = {
  -- { id = "dig" },
  { id = "gust",
      line = "^(%a+) raises [hH]%a+ arms and a gust of wind slams into you%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "gust attempt" },
  { id = "gust_2",
      line = "^You are hurled to the (%a+)%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "got gusted" },
  { id = "blast",
      line = "^(%a+) makes a fist and punches towards you%, releasing a blast of pure elemental energy that slams into you%, searing your flesh%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "fire damage" },
  { id = "firewall",
      line = "^You are scorched by the firewall as you pass through%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "ablaze" },
  { id = "firewall_2",
      line = "^The effects of the frost potion quickly fade out%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "lost frost def" },
  { id = "geyser",
      line = "^The earth below you suddenly splits open%, and a mighty geyser soars skywards%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "cast line" },
  { id = "geyser_2",
      line = "^The geyser strikes you full%-on%, and you tumble to the ground helplessly%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "elevation change" },
  { id = "freeze",
      line = "^(%a+) raises a hand towards you and blasts you with cold%, frigid air%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "freeze attack" },
  { id = "freeze_ground",
      line = "^You slip and fall on the ice as you try to leave%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "sprawled" },
  { id = "icewall",
      line = "^(%a+) raises [hH]%a+ hands dramatically%, and summons an icewall to the (%a+)%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "icewalled" },
  { id = "icewall_nextroom",
      line = "An icewall rises up to the (%a+)%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "icewalled" },
  { id = "ignite",
      line = "^Pointing at you%, (%a+) hisses and narrows [hH]%a+ eyes%. Flames erupt on your skin%, blistering your flesh%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "ablaze" },
}

trigs.defs.elementalism = {
  { id = "levitate",
      line = "^You take a deep breath and fill your cheeks with air until they bulge out%. After a moment%, the air in your cheeks disappears and is absorbed into you%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "levitation def" },
  { id = "levitate_up",
      line = "^You are already walking on a small cushion of air%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "levitation is up" },
  { id = "levitate_def",
      line = "^You are walking on a small cushion of air%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "levitate def" },
  { id = "stoneskin",
      line = "^Calling the powers of the elemental earth%, your skin hardens with a layer of supple granite%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "physical dmp" },
  { id = "stoneskin_up",
      line = "^You already are coated with stone%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "stoneskin is up" },
  { id = "stoneskin_def",
      line = "^Your skin is coated with supple granite%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "stoneskin def" },
  { id = "waterbreathe",
      line = "^You briefly hold your hand over your mouth until your lips and tongue tingle%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "waterbreathing" },
  { id = "waterbreathe_up",
      line = "^You are already filtering air out of water%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "waterbreathing is up" },
  { id = "waterbreathe_def",
      line = "^You are filtering air from water for breathing%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "waterbreathe def" },
  { id = "elementshield",
      line = "^You cross your arms and a shimmering elemental shield surrounds you%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "elemental dmp" },
  { id = "elementshield_up",
      line = "^You already possess an element shield%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "elementshield is up" },
  { id = "elementalism_def",
      line = "^You are shielded from the elements%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "elemental dmp" },
  { id = "cleanse_ablaze",
      line = "^You snap your fingers and warm water showers down upon yourself%, extinguishing the flames with a hiss of steam%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "You have cured ablaze." },
  { id = "cleanse_noaffs",
      line = "^You snap your fingers and warm water showers down upon yourself%, and you scrub under your armpits until you are squeaky clean%.$",
      action = function (i, tbl) elementalism_(i, tbl) end,
      notes = "no cleanse affs" },
}
