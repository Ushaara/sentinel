-- nature

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.nature = {
  { id = "curse_sickle",
      line = "^Making a slashing motion towards you with [hH]%a+ golden sickle%, (%a+) curses you for your transgressions%. Painful%, stigmatic wounds open up all over your body%, dripping with blood%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "damage_druid" },
  { id = "curse_athame_cudgel",
      line = "^(%a+) points the tip of [hH]%a+ %a+ at your heart and makes a sudden stabbing motion%. A glowing pentagram shoots from the tip of the %a+ and slams into your chest%, making you gasp in pain%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "damage" },
  { id = "curse_talisman",
      line = "^(%a+) points [hH]%a+ talisman at you%. It glows and you gasp as pain shoots through your body%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "damage" },
  { id = "faeriefire",
      line = "^(%a+) points .- at you and a beam of flickering light shoots forth%, covering you with colourful flame%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "illuminated" },
  { id = "vines",
      line = "^(%a+) points .- at you and vines shoot forth%, entangling you in a thorny embrace%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "entangle" },
}

trigs.defs.nature = {
  { id = "no_talisman",
      line = "^You must be wielding your talisman%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "might have broken limb" },
  { id = "talisman",
      line = "^You kneel and place a palm on the ground%, imploring nature to give you a talisman%. The ground glows and .- pushes out of the soil%, floating into your outstretched hand%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "talisman" },
  { id = "talisman_druid",
      line = "^You kneel and place a palm on the ground%, imploring nature to give you a talisman%. Immediately before you%, the stalk of a plant pushes up from the earth and forms a bud%, which then unfolds and blossoms into a golden flower%. You reach out and cup the flower in your hands which shimmers into a sacred golden sickle%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "talisman is sickle" },
  { id = "talisman_athame",
      line = "^You kneel and place a palm on the ground%, imploring nature to give you a talisman%. A small crevice opens up in the earth and an athame dagger floats up and into your hands%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "talisman is athame" },
  { id = "talisman",
      line = "^You point your talisman at (.-)%. It glows and .- gasps in pain%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "nature curse" },
  { id = "naturecurse_kill",
      line = "^(.-) falls to the ground%, gasping in pain as death takes hold of [hH]%a+%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "nature curse kill" },
  { id = "barkskin",
      line = "^You concentrate for a moment%, and your skin becomes rough and thick like tree bark%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "physical dmp" },
  { id = "barkskin_up",
      line = "^Your skin is already covered in protective bark%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "barkskin up" },
  { id = "blend_fail",
      line = "^You must be in the forests to blend into the foliage%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "blend fail" },
  { id = "blend",
      line = "^You kneel and place a palm on the ground%, imploring nature to hide you from prying eyes%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "blend" },
  { id = "blend_up",
      line = "^You are already blended into the foliage%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "blend up" },
  { id = "blend_off",
      line = "^You step forth from your hiding%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "blend off" },
  { id = "blend_down",
      line = "^You are not blended into the foliage%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "blend down" },
  { id = "rooting",
      line = "^You thump the ground with your %a+ and feel a connection with the earth%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "rooting" },
  { id = "rooting_up",
      line = "^You are already rooted%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "rooting up" },
  { id = "rooting_fail",
      line = "^You must be on dry ground to cast that%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "rooting fail" },
  { id = "rooting_def",
      line = "^You are rooted%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "def line" },
  { id = "torc",
      line = "^You raise .- and make a circle in the air%. A radiant torc forms from the ether and settles around your neck%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "torc" },
  { id = "torc_down",
      line = "^A silver torc cracks and crumbles to dust%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "torc down" },
  { id = "flow",
      line = "^You shed .- form and flow as a spirit through the verdant leaves%, embracing the physical once more and arrive at (.+)%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "flow" },
  { id = "flow_fail",
      line = "^You can%'t flow outside of a forest%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "can't flow" },
  { id = "flow_fail",
      line = "^You and your target must be in the same kind of forest%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "can't flow" },
  { id = "flow_visual",
      line = "^You hear a rustling and turn to see (%a+) emerging from the undergrowth%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "flow" },
  { id = "growth",
      line = "^You point (.-) at the ground and the native plants dance and grow before your very eyes%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "growth" },
  { id = "rain",
      line = "^You raise your hands and clouds form and darken overhead%, releasing a heavy rain that drenches the area%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "rain" },
  { id = "faeriefire_fade",
      line = "^The glow illuminating (%a+) fades away%.$",
      action = function (i, tbl) nature_(i, tbl) end,
      notes = "faeriefire faded" },
}
