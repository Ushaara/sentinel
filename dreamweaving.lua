-- dreamweaving

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.dreamweaving = {
   { id = "deepsleep",
      line = "^Your eyes droop and you cannot stop yourself from yawning%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "Your insomnia has cleared up likely following" },
  { id = "puncture",
      line = "^(%a+) slams [hH]%a+ hand into the air in front of you%, and you suddenly feel lightheaded and weak%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "punctured aura, delayed reishi cure" },
  { id = "spook",
      line = "^You hear a voice hiss in your ears%, sending chills down your spine as you look around for its source%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "fear" },
  { id = "haunt",
      line = "^Strange noises can be heard behind you and you see movement out of the corner of your eye%. What%'s that%? There it is again%!$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "mental aff" },
  { id = "nightmare",
      line = "^A terrifying nightmare invades your sleep%, of a gruesome monster slowly devouring you with sharpened fangs%. You cannot move as you are eaten alive%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "damage while asleep" },
  { id = "channel",
      line = "^You get a sudden headache%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "mana drain" },
  { id = "sap",
      line = "^A stabbing pain hits you in the chest%, causing you to moan%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "health drain" },
  { id = "induce",
      line = "^(%a+) locks eyes with you%, staring deep into your mind%. You feel [hH]%a+ presence seep into your subconscious%, and a wave of tiredness and compliance washes over you%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "watch for domination" },
  { id = "induce_2",
      line = "^You blink dreamily%, ready to comply with (%a+)%'s demands%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "about to be dominated" },
  { id = "induce_3",
      line = "^(%a+) locks eyes with you and%, with absolute authority%, commands you to act%. Your tired mind complies%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "you were dominated, capture following line, highlight what you did!" },
  { id = "drowse",
      line = "^A sudden urge to sleep is so strong that your knees buckle%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "check for TYPO" },
  { id = "sleepmist",
      line = "^The white mist here washes over you in a wave of ghostly tendrils%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "sleepmist" },
  { id = "sleepmist_mana",
      line = "^The thick silver mist swirls around your feet as you move%, draining your mental fortitude as you fight the urge to curl up and sleep%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "sleepmist mana drain" },
  { id = "flick",
      line = "^(%a+) makes a flicking motion at you with [hH]%a+ hands%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "dreamweaver aff, mote follows, though not always" },
  { id = "motes",
      line = "^A sudden shiver shoots up your spine%, making you involuntarily jerk as a creeping sensation crawls over your skin%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "hit with dream mote" },
  { id = "void",
      line = "^A dark void opens up in your mind and devours your thoughts%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "void" },
  { id = "drift",
      line = "^You briefly feel a strange tingling on the back of your neck%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "dream drift" },
  { id = "drifted",
      line = "^The tingling on the back of your neck returns momentarily before abruptly vanishing%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "dream drifted, ask Enyalida" },
}

trigs.defs.dreamweaving = {
  { id = "control",
      line = "^You weave a mental shield around your body%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "control on" },
  { id = "control_def",
      line = "You are in complete control of your waking mind%.$",
      action = function (i, tbl) dreamweaving_(i, tbl) end,
      notes = "def line" },
}
