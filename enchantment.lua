-- enchantment

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.enchantment = {}

trigs.defs.enchantment = {
  { id = "cant_rub",
      line = "^You need to wear that enchanted item to use it%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "cant rub" },
  { id = "rub",
      line = "^You rub .- and it begins to glow with a pulsating light%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "rubbed enchantment" },
  { id = "mercy",
      line = "^A ray of purple light suddenly spotlights you%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "mercy" },
  { id = "kingdom",
      line = "^A ray of green light suddenly spotlights you%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "kingdom" },
  { id = "regen_def",
      line = "^Your (%a+) is %a+ by virtue of the Ray of (.-)%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "mercy/perfection/beauty def line" },
  { id = "perfection",
      line = "^A ray of golden light suddenly spotlights you%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "perfection" },
  { id = "beauty",
      line = "^A ray of pink light suddenly spotlights you%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "beauty" },
  { id = "acquisitio",
      line = "^You narrow your eyes and look around greedily for something to add to your hoard%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "acquisitio" },
  { id = "acquisitio_down",
      line = "^You allow the charm of Acquisitio to leave you and are no longer gripped by an unnatural need to accumulate things%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "acquisitio down" },
  { id = "acquisitio_def",
      line = "^You are filled with the greed of Acquisitio%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
  { id = "tempo",
      line = "^As you wind .- up%, the hands on its face begin to move slower and slower%. Suddenly%, a flurry of bright yellow sparks spray out of .+%, and you feel your musical aptitude take on a new dimension%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "tempo enchant" },
  { id = "tempo_down",
      line = "^Your enhanced sense of music fades from your mind as quickly as it came%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "tempo down" },
  { id = "tempo_def",
      line = "^You are demonstrating increased musical aptitude%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "song length buff" },
  { id = "avarice",
      line = "^You hold .- to your lips and blow a light%, twinkling ditty%. As the notes fade%, you cannot help but look around with avarice in your eyes%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "avarice" },
  { id = "avarice_down",
      line = "^You hold .- to your lips and blow a light%, twinkling ditty%. As the notes fade%, you see the world through less avaricious eyes%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "avarice down" },
  { id = "avarice_def",
      line = "^You are instilled with a need to hoard gold%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
  { id = "levitate",
      line = "^You begin to rise on a cushion of air%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "levitate" },
  { id = "levitate_on",
      line = "^You are already walking on a small cushion of air%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "levitate" },
  { id = "levitate_def",
      line = "^You are walking on a small cushion of air%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
  { id = "deathsight",
      line = "^You touch the cosmos and allow your eyes to pierce through the veil of death%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "deathsight" },
  { id = "deathsight_on",
      line = "^You already are seeing death%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "deathsight on" },
  { id = "deathsight_def",
      line = "^You are seeing death%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
  { id = "nimbus",
      line = "^A nimbus of glittering motes blossoms around you%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "nimbus" },
  { id = "nimbus_on",
      line = "^You are already surrounded with a cosmic nimbus%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "nimbus" },
  { id = "nimbus_def",
      line = "^You are surrounded by a nimbus of cosmic protection%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
  { id = "truetime",
      line = "^You quickly wind up .- as tightly as you can%. The hands on .- begin to spin faster and faster and time itself seems to distort around you%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "truetime, TYPO CHECK" },
  { id = "truetime_down",
      line = "^You feel less protected against variations in time%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "truetime down" },
  { id = "waterwalk",
      line = "^You pull a cosmic web down around your feet%, and you sense that gravity will be your ally when entering water%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "waterwalking" },
  { id = "waterwalk_on",
      line = "^You are already water walking%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "waterwalk" },
  { id = "waterwalk_def",
      line = "^You can walk upon water%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
  { id = "waterbreathe",
      line = "^You briefly hold your hand over your mouth until your lips and tongue tingle%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "waterbreathe" },
  { id = "waterbreathe_def",
      line = "^You are filtering air from water for breathing%.$",
      action = function (i, tbl) enchantment_(i, tbl) end,
      notes = "def line" },
}
