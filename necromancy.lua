-- necromancy

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.necromancy = {
  { id = "feed",
      line = "^With a guttural chant%, (%a+) places a hand on your chest and sucks the nourishment out of your body%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "hunger attrition" },
  { id = "shrivel",
      line = "^(%a+) chants harshly at you%, while cracking [hH]%a+ knuckles loudly%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "limbs being broken" },
  { id = "shrivel_2",
      line = "^The flesh on your ([lr])%a+ ([al])%a+ shrivels to the bone%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "broken limbs" },
  { id = "leech",
      line = "^(%a+) points at you and utters a string of terrible sounds%, which leech away your mental reserves%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "mana drain" },
  { id = "drain",
      line = "^(%a+) bows [hH]%a+ head and chants your name%, and you feel your reservoir of power draining away%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "power drain tactic" },
  { id = "omen",
      line = "^(%a+) pronounces that you are under an ill omen%, and a sense of imminent foreboding descends upon you%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "omen, damage booster" },
  { id = "disfigure",
      line = "^(%a+) curses you with the visage of a rotting corpse%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "disfigured = disloyalty" },
  { id = "ectoplasm",
      line = "^(%a+)%'s eyes roll back into [hH]%a+ head and [sS]?[hH]e begins to chant ugly%, discordant words%. With each syllable uttered%, white%, viscous smoke oozes out of [hH]%a+ mouth%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "ecto cast" },
  { id = "ectoplasm_2",
      line = "^The smoke envelops you%, leaving behind a thick coat of sticky slime%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "ECTO ECTO ECTO" },
  { id = "contagion",
      line = "^Several flies from the black cloud of filth fly into your mouth%, turning into a putrid sleaze that makes you gag and choke uncontrollably%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "contagion aff" },
  { id = "contagion_2",
      line = "^A foul feeling churns in the pit of your stomach%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "contagion aff" },
  { id = "undead",
      line = "^A %a+ bites into you with a mouth full of brown teeth%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage, bleeding" },
  { id = "undead_2",
      line = "^A %a+ claws at your face with its broken fingernails%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage, bleeding" },
  { id = "undead_3",
      line = "^A %a+ claws at your flesh with [hH]%a+ skeletal fingers%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage" },
  { id = "undead_4",
      line = "^A %a+ kicks you with its rotten foot%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage" },
  { id = "undead_5",
      line = "^Tilting back [hH]%a+ head%, a %a+ lets forth a soul%-wrenching shriek that causes your body to stiffen up in fear%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage, paralysis" },
  { id = "undead_6",
      line = "^A %a+ rips [hH]%a+ rotting fingers deep through your flesh%, causing your limbs to rot and decay%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "just damage or more?" },
  { id = "undead_7",
      line = "^A %a+ exhales a cloud of poisonous%, sickly gases which cause you to cough and choke as your skin festers%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage, asthma" },
  { id = "undead_8",
      line = "^Lurching forward%, a %a+ rakes [hH]%a+ scabrous claws across your body%, causing your wounds to fester and weep%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "damage, slickness"},
  -- { id = "deathmark" },
  { id = "crucify",
      line = "^(%a+) begins to chant in a deep and baleful voice%, and an iron cross rises up from the ground before you%. Vicious spikes slam into your flesh and nail you to the cross%. You scream in pain and agony as blood is splattered in all directions%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "CRUCIFIED CRUCIFIED CRUCIFIED" },
  { id = "crucify_2",
      line = "^You jerk as the iron cross pulls your limbs%, resulting in a sickening crunch of bones%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "crucified and broken limbs" },
  { id = "crucify_action_failure",
      line = "^Your crucified state makes that impossible%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "crucified" },
  { id = "crucify_focus_failure",
      line = "^You can%'t concentrate enough to focus on your mind as you are crucified%!$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "crucified" },
  -- { id = "deathweapon" },
  { id = "crucify_bleed",
      line = "^You bleed like a stuck pig upon the iron cross%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "crucified + bleed" },
  { id = "lich_touch",
      line = "^(%a+) lightly strokes your flesh%, and the cold of the grave seeps into your bones%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "freeze attack" },
  { id = "lich_coldaura",
      line = "^The cold of the grave seeps into your bones%, causing you to shudder%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "freeze attack" },
  { id = "sacrifice",
      line = "^(%a+) looms over you and plunges [hH]%a+ hands into your chest%, ripping out your heart%. As the last drops of your life trickle away%, you watch helplessly as [sS]?[hH]e offers up the bloody organ to the Demon Lords of Nil%, and then laughs ecstatically as monstrous dark shadows wrap around [hH]%a+%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "You have been slain by (%a+)%." },
  { id = "lich_eyeblast",
      line = "^(%a+) gazes at you and releases a wave of dark and destructive energy from [hH]%a+ eyes%. You feel your flesh rot and decay as your very essence struggles to withstand the assault%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "excorable damage" },
}

trigs.defs.necromancy = {
  { id = "excorable_gland_charge",
      line = "^You absorb some of the excorable energy in your glands%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "excorable gland charge" },
  { id = "excorable_not_ready",
      line = "^You have not yet stored enough excorable energy%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "eyeblast not ready" },
  { id = "excorable_full_gland",
      line = "^You feel your excorable gland swell to its full potential%.$",
      action = function (i, tbl) necromancy_(i, tbl) end,
      notes = "full charge" },
}
