-- aerochemantics

trigs = trigs or {}
trigs.combat = trigs or {}
trigs.defs = trigs or {}

trigs.combat.aerochemantics = {
  { id = "stratus",
      line = "^Scintillating arcs of electricity crackle through the stratus field around (%a+)%, slashing across your skin in a painful dance of brilliance%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "electric damage" },
  { id = "ionic",
      line = "^The plasma within (%a+)%'s ionic cloud flares up%, knocking you back%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "off balance reactive" },
  { id = "cirrus",
      line = "^Thin%, wispy clouds from (%a+)%'s cirrus field brush across your skin%, causing you to wince%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "sensitivity" },
  { id = "cumulus",
      line = "^Lightning strobes within the clouds of (%a+)%'s cumulus field%, flashing directly into your face in pulsating blasts of light%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "You are afflicted with epilepsy" },
  { id = "cloudkill",
      line = "^With a deliberate gesture (%a+) pulls the clouds surrounding [hH]%a+ into a tight%, roiling sphere that surges with energy%. Dramatically %a+ throws [hH]%a+ hands wide to send a maelstrom swirling outward in a raging storm%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "cloudkill catalyst will hit in 10s" },
  { id = "cloudkill_hit",
      line = "^The raging storm engulfs you%, lightning pulsing within the dark mass of clouds%. The faintest whiff of ozone hangs in the air before the clouds are rent by slashing blades of lightning%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "cloudkill catalyst hitting enemies: sensitivity if followed by - ^Lightning slams into your body%, raking you with burning tendrils%. Your screams of pain turn to choking gasps as the clouds rush in and fill your lungs like wet sand%.$" },
  { id = "cloudkill_hit_iasmos",
      line = "^The raging storm engulfs you%, lightning pulsing within the dark mass of clouds%. The faintest whiff of ozone hangs in the air around (%a+) before the clouds are rent by slashing blades of lightning%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "CHECK THIS LINE - sensitivity if followed by - ^Lightning slams into your body..." },
  { id = "cloudkill_antirun",
      line = "^A roiling maelstrom brutally whips your body as you struggle forward%, eventually blowing you back to where you started%.$",
      action = function (i, tbl) aerochemantics_(tbl) end,
      notes = "movement failed" },
  { id = "quantum",
      line = "^With a deliberate gesture (%a+) pulls the clouds surrounding you into a tight%, roiling sphere that seems to bend time with its weight%. Dramatically, [sS]?[hH]e throws [hH]%a+ hands wide to send a maelstrom of clouds swirling outward in a warped vortex%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "quantum catalyst will hit in 10s" },
  { id = "quantum_hit",
      line = "^Bands of spiralling clouds swirl and twist sinuously around your surroundings, constricting together with a grating sigh%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "quantum catalyst hitting enemies: moderate timewarp if followed by - ^Time slows as frigid coils of cloud contract around you%, squeezing the air from your lungs while lightning burns across your skin where the tendrils of cold mist cling to you%.$" },
  { id = "quantum_hit_iasmos",
      line = "^Bands of spiralling clouds swirl around (%a+)%, sinuously twisting around your surroundings%. Raising [hH]%a+ open hand above [hH]%a+ head%, [sS]?[hH]e clenches [hH]%a+ fist together as the tendrils of cloud constrict with a grating sigh%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "check this line, may be if in same room only. timewarp if followed by - ^Time slows as frigid coils..." },
  { id = "altostratus",
      line = "^You gag as you inhale the ragged clouds spinning in (%a+)%'s altostratus field%, panicking as your airway constricts%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "asthma" },
  { id = "dynomatic",
      line = "^Tiny silver spheres skim around you%, slowing time as you enter (%a+)%'s dynomatic cloud%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "reactive aeon" },
  { id = "aurora",
      line = "^With a deliberate gesture (%a+) pulls the clouds surrounding [hH]%a+ into a ball that seems constructed of colourful arches of power that loop into a tight sphere%. Dramatically%, [sS]?[hH]e throws [hH]%a+ hands wide to send a burst of clouds outwards%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "aurora catalyst will hit in 10s" },
  { id = "aurora_hit",
      line = "^A burst of light flashes through the thick bank of fog as ribbons of multihued light burst explode in a dazzling display of power%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "aurora catalyst hitting enemies: 2 cloudcoils if followed by - ^Every colour of the rainbow burns in your vision as a ribbon of light undulates before you%, first a delicate pink%, then an electric blue%. Without hesitation%, the ribbon twines around you%, turning your awe to terror as it twines around your throat and limbs%, choking you even as the raw power of the aurora burns into your skin%.$" },
  { id = "aurora_hit_iasmos",
      line = "^A burst of light flashes through the thick bank of fog as ribbons of multihued light burst from (%a+)%'s outstretched arms in a dazzling display of power%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "CHECK THIS LINE: cloudcoils if followed by - ^Every colour of the rainbow..." },
  { id = "electromagnetic",
      line = "^Energy sizzles through (%a+)%'s electromagnetic cloud as arcs of power slam into you%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "reactive stun" },
  { id = "positronic",
      line = "^A thick stream of positrons funnel into your mouth from the cloud around (%a+)%, causing an intense burning sensation within your lungs that makes it hard to breathe%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "reactive shortbreath" },
  { id = "vacuum_cast",
      line = "^With a deliberate gesture (%a+) pulls the clouds surrounding [hH]%a+ into a tight%, gelid sphere that strains and bulges like a beast fighting to be free%. Dramatically, [sS]?[hH]e throws [hH]%a+ hands wide to send a gentle breeze flowing past you%, the cool air brushing your cheek like a lover%'s caress%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "vacuum catalyst will hit in 10s" },
  { id = "vacuum_hit",
      line = "^With a sudden rush of air%, the atmosphere is drawn in as a vast concussive blast%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "vacuum catalyst hitting enemies: stun + ouch, boosted by dizziness, asthma, epilepsy, timewarp, shortbreath if followed by ^The air tears from your lungs in a single%, burning instant as the pressure plummets%. Through your bulging eyes%, you have little time to make out the wall of lightning bearing down upon you before it is searing across your skin and filling your lungs in a blue%-white conflagration%.$" },
  { id = "vacuum_hit_iasmos",
      line = "^(%a+) draws [hH]%a+ arms together with a snap%, causing the air around you to rush toward [hH]%a+ in a concussive blast%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "CHECK THIS LINE, see above" },
  { id = "static_throw",
      line = "^The static electricity ignites around you in a blue%-white flash of lightning that flings you (%a+)wards%, leaving you sprawled and disgraced upon the ground%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "stun, sprawl + throw" },
  { id = "static_discharge",
      line = "^(%a+)%'s static field discharges as you approach%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "stun + sprawled" },
  { id = "beam",
      line = "^(%a+) presses the trigger on a sleek silver beam generator%, sending reagents racing through conduits to the opposite end where a spark ignites at the three%-pronged crystal tip%. With a loud burst%, a beam of blue%-white light shoots from the generator and slams into you%, instantly burning away the air around you as you struggle to breathe%, the pain from the energy causing an involuntary scream to rise in your throat%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "electric/asphyx damage" },
  { id = "hyperbeam",
      line = "^(%a+) points [hH]%a+ beam generator at you%, unleashing arcs of lightning that rake your body with burning lances of energy%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "electric damage" },
  { id = "amplify",
      line = "^You struggle to move with (%a+)%'s amplified fields disrupting your muscular impulses%, but you stumble determinedly in an effort to leave%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "slowed movement" },
}

trigs.defs.aerochemantics = {
  { id = "batteries_transmute",
      line = "^Using your extensive knowledge of aerochemantic reactions%, you deftly extract (.-) wisps of (%a+) reagent from a bit of cloud essence%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "batteries transmute" },
  { id = "batteries_notransmute",
      line = "^You do not have the required commodities to transmute any reagents%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "no essence or batteries" },
  { id = "windwalk",
      line = "^You walk around in a small circle%, allowing your presence to bond with the air around you%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "windwalk, overlap with aeromancy" },
  { id = "windwalk_def",
      line = "^You can walk on the winds%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "windwalk def, overlap with aeromancy" },
  { id = "windwalk_up",
      line = "^You are already walking upon winds%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "windwalk up, overlap with aeromancy" },
  { id = "windwalking",
      line = "^You deftly walk around the strongly blowing wind%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "windwalking, overlap with aeromancy" },
  { id = "windwalk_ascend",
      line = "^You walk the winds up into the sky%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "flying elevation, overlap with aeromancy" },
  { id = "windwalk_descend",
      line = "^You walk the winds down to the ground below%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "descend, overlap with aeromancy" },
  { id = "beamgenerator",
      line = "^Pressing your finger into the round trigger hole in the base of your beam generator sends reagents racing through conduits to the opposite end where a spark ignites at the three%-pronged crystal tip%. With a loud burst%, a beam of blue%-white light shoots from your generator and slams into (.-)%, burning the air around [hH]%a+ as the energy spreads across [hH]%a+ body%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "beam generator" },
  { id = "beamgenerator_kill",
      line = "^.- collapses with a circular hole burned cleanly through [hH]%a+ corpse%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "killed" },
  { id = "amplify_on",
      line = "^You concentrate on your fields%, amplifying their pulses to penetrate deep into organic tissue and disrupt muscular impulses%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "amplify_on" },
  { id = "amplify_off",
      line = "^You concentrate on your fields%, reducing their strength so that they do not penetrate organic tissue so deeply%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "amplify off" },
  { id = "field_focus",
      line = "^You focus your fields upon (%a+)%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "focussed fields" },
  { id = "field_nofocus",
      line = "^You allow your fields to spread freely and without focus%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "no target" },
  { id = "field_drop",
      line = "^Your (%a+) field fizzles out%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "field dropped" },
  { id = "static",
      line = "^Mixing together precise amounts of aerochemantic reagents%, the strange solution scatters around your body in a field of static that fills the air with an ozone tang%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "static field" },
  { id = "static_off",
      line = "^Resting your palm against the ground%, you funnel the static electricity away from you in tiny pops and crackles%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "static field off" },
  { id = "conductive",
      line = "^Piecing together a silver circuit that surges with energy%, you place a perfectly sculpted crystal dome into the centre of the silver plate to create a conductive amplifier%. As the crystal locks into place a brief tingle of electricity prickles across your skin%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "electrical buff" },
  { id = "conductive_def",
      line = "^You have a conductive amplifier for another (%d+) months%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "def line" },
  { id = "hyperbeam",
      line = "^Pointing your beam generator at (.-)%, you unleash raking arcs of lightning that twist across [hH]%a+ body%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "hyperbeam" },
  { id = "hyperbeam_kill",
      line = "^(.-) drains of colour%, turning to a greyscale figure before [hH]%a+ colours invert and [hH]%a+ lifeless corpse falls to the ground%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "hyperbeam kill" },
  { id = "field_release",
      line = "^You release some wisps of (%a+) from your batteries%, creating a cloudy field that dissipates on the winds%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "making battery space" },
  { id = "concentrate",
      line = "^You concentrate on your fields%, synchrosing their pulse rate until they are in perfect phase with one another%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "fields set" },
  { id = "field_notarget_summary",
      line = "^Your fields are not focused upon anyone%. Your fields are not impeding movement%. You are not maintaining any links%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "summary" },
  { id = "field_radiating",
      line = "^You are radiating a (%a+) field in (%d+) seconds for another (%d+) minutes%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "field summary" },
  { id = "insulation",
      line = "^Using your reagents to bolster the tensile strength of the silver%, you stretch it into a thin lattice to cover your body%, placing other reagents within the matrix of metal to engineer insulation for yourself%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "fire dmp" },
  { id = "insulation_up",
      line = "^You have already engineered an insulation%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "insulation up" },
  { id = "insulation_def",
      line = "^You have thick insulation around you for another (%d+) months%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "def line" },
  { id = "already_cloud",
      line = "^You have already engineered an? (%a+) cloud%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "def up already" },
  { id = "dynomatic_def",
      line = "^You have a dynomatic cloud for another (%d+) months%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "def line" },
  { id = "cloud_def",
      line = "^You have an? (%a+) cloud around you for another (%d+) months?%.$",
      action = function (i, tbl) aerochemantics_(i, tbl) end,
      notes = "cloud def" },
}
