-- sacraments

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.sacraments = {
  { id = "heretic",
      line = "^(%a+) brands you a heretic for your crimes against the Light%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "inqui train started, watch for it" },
  { id = "heretic_2",
      line = "^A cloudy vision forms in your mind%'s eye of a towering%, angelic woman with a cobalt blue shield who shouts%, %'Heretic%, get thee from the Light%!%' She points at you and a bolt of blue lightning slams into you%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "heretic hit" },
  { id = "hallowedground", 
      line = "^hallowed ground line$", 
      action = function (i, tbl) sacraments_(i, tbl) end, 
      notes = "" },
  { id = "judgement",
      line = "^(%a+) calls down a beam of brilliant light upon you%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "BEING JUDGED BEING JUDGED" },
  { id = "judgement_2",
      line = "^(%a+) chants and a column of topaz light appears before [hH]%a+%. S?[hH]e points at you and the column of light obediently moves to envelop you%, a voice whispering in your mind that you will be judged%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "GTFO time!" },
  { id = "infidel",
      line = "^(%a+) marks you as an infidel for your utter contempt for the Light%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "NOW AN INFIDEL, WATCH FOR INQUISITION" },
  { id = "infidel_2",
      line = "^A column of holy fire erupts before you%. The image of a gigantic%, angelic man wielding a flaming sword steps out and bellows%, %''Infidel%! Repent or forever be consigned to the Pits of Nil%!%' Invisible%, demonic claws grab at you%, rending your flesh%, as hellfire blisters your skin%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "ABOUT TO BE INQUI'D" },
  { id = "inquisition",
      line = "^(%a+) calls down an inquisition upon you%, and a pillar of holy fire strikes you from the heavens%. A bright pain streaks through your body but you cannot move or even cry out in agony%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "boo, inquisition!" },
  { id = "inquisition_2",
      line = "^The pain of ritualistic inquisition subdues your actions%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "derp derp derp, lost all defs and stunned" },
  { id = "trueheal",
      line = "^You give yourself wholly unto the Light%, and feel a divine presence fill you from brow to feet%. As you are lifted off the ground%, you turn slowly in utter ecstasy as the presence of the Supernals fill you with power and joy%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "trueheal: reset affs" },
}

trigs.defs.sacraments = {
  { id = "holybeing",
      line = "^You bow your head and begin to chant a prayer to the Holy Supernals%, beseeching them to imbue your mortal soul with the radiance of the Light%. An indescribable warmth and comfort envelops you as your senses suddenly expand%, golden motes of light racing down your skin as you open your eyes%, gazing out upon the world with a renewed and sacrosanct presence%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "holybeing" },
  { id = "holybeing_aura",
      line = "^The radiant warmth of Holy Celestia washes out from your soul%, enveloping your body in currents of comforting light%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "holybeing aura, passive cure" },
  { id = "hallowedground",
      line = "^Beseeching the Light to bless the ground here%, you slowly raise your arms up from your sides towards the heavens%, and%, as you do so%, bright rays of holy light rise up from the ground suffusing the air with the Glory of Celestia%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "hallowground" },
  { id = "hallowedground_2",
      line = "^With a whispered prayer and a delicate twist of your outstretched hand%, you send globes of light flying in each direction%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "hallowedground_2" },
  { id = "hallowedground_tick",
      line = "^You bathe in the glory of the holy light that surrounds you%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "vitals regen tick" },
  { id = "trueheal",
      line = "^You give yourself wholly unto the Light%, and feel a divine presence fill you from brow to feet%. As you are lifted off the ground%, you turn slowly in utter ecstasy as the presence of the Supernals fill you with power and joy%.$",
      action = function (i, tbl) sacraments_(i, tbl) end,
      notes = "trueheal: reset affs" },
}
