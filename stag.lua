-- stag

trigs = trigs or {}
trigs.combat = trigs.combat or {}
trigs.defs = trigs.defs or {}

trigs.combat.stag = {
  { id = "ringwalk",
      line = "^(%a+) begins briskly walking in a wide circle%, lifting [hH]%a+ knees hight%, creating a path in the shape of a ring%. As [sS]?[hH]e trots faster and faster along this ringed path%, you see a hazy image of a white stag running next to [hH]%a+%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ringwalked" },
  { id = "ringwalk_block",
      line = "^The hazy image of a white stag runs in front of you%, bumping you back and preventing you from leaving%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ringwalk" },
  { id = "stagstomp",
      line = "^(%a+)%'s feet transform into golden hooves%, and [sS]?[hH]e raises one up high and stomps down upon you%, knocking the wind out of your lungs%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "stag stomped" },
  { id = "stagstomp_b",
      line = "^The form of a ghostly stag settles upon (%a+)%. S?[hH]e raises one golden hoof up high and stomps down upon you%, knocking the wind out of your lungs%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "stag stomped" },
  { id = "stagstomp_2",
      line = "^Your (%a+) (%a+) is crushed under the fierce stomping%!$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "stomped limb" },
  { id = "bellow_cover",
      line = "^(%a+) tilts [hH]%a+ head back and bellows, forcing you to cover your ears%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bellow line is weird" },
  { id = "bellow_cover_direct",
      line = "^(%a+) tilts [hH]%a+ head back and bellows at you%, forcing you to cover your ears%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bellow cover direct" },
  { id = "bellow",
      line = "^(%a+) tilts [hH]%a+ head back and bellows%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bellow is weird" },
  { id = "bellow_direct",
      line = "^(%a+) tilts [hH]%a+ head back and bellows at you%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bellow direct" },
  { id = "parade",
      line = "^(%a+) lifts [hH]%a+ golden antlers high%, which begin to glow%, and parades before you%. You hypnotically watch the swaying of the antlers%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "forced lust" },
  { id = "headbutt",
      line = "^(%a+) lowers [hH]%a+ head and charges you%, slamming into your body%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "forced move" },
  { id = "headbutt_2",
      line = "^You are hurled (%a+)wards by the force of the blow%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "headbutted"},
  { id = "ancestralcurse",
      line = "^Powerful spirits plague you with their terrible presence%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ancestral curse affs" },
  { id = "gore",
      line = "^(%a+) lowers [hH]%a+ head and charges you%, goring you with [hH]%a+ antlers%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ouch, watch for insta" },
  { id = "gore_2",
      line = "^(%a+) lowers [hH]%a+ head and charges you%, impaling you on [hH]%a+ antlers%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ouch, writhe and watch for insta" },
  { id = "gore_symptom",
      line = "^Your health continues to drain away as your impaled body shudders on the end of (%a+)%'s antlers%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "still impaled" },
  { id = "gore_rend",
      line = "^With a snarl of contempt%, (%a+) allows you to slide free of [hH]%a+ antlers%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "not gored, but ouch bleed" },
  { id = "spirittotem",
      line = "^(%a+) crosses [hH]%a+ arms over [hH]%a+ torso%, touching the opposite shoulders and bowing [hH]%a+ head in reverence to the White Hart for a moment%. A soft flowing sound reaches your ears%, as you watch a spirit totem shimmer into existence%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "passive curing" },
  { id = "spirittotem_end",
      line = "^A spirit totem waves fitfully%, the healing waves around it diminishing%, then finally shimmers out of existence%, its power spent%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "passive curing end" },
}

trigs.defs.stag = {
  { id = "staghide",
      line = "^You call upon the spirit of the stag to protect you%, and your skin turns into a thick stag%'s hide%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "staghide" },
  { id = "staghide_up",
      line = "^You are already covered with stag%'s hide%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "staghide" },
  { id = "staghide_def",
      line = "^You have the hide of the stag protecting your body%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "greenman",
      line = "^Ceremoniously%, you dab some green tint upon your face%, creating the pattern of an image of the greenman%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "end/willpower regeneration" },
  { id = "greenman_def",
      line = "^Your face is painted with the image of the greenman%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "greenman_up",
      line = "^You already have an image of the greenman painted on your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "up already" },
  { id = "trueheart",
      line = "^Ceremoniously%, you dab some yellow tint upon your face%, creating the pattern of bright rays of sunshine%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "influence + command resist buff" },
  { id = "trueheart_def",
      line = "^Your face is painted with yellow rays of sunshine%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "trueheart_up",
      line = "^You already have an image of trueheart painted on your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "already up" },
  { id = "conflict_greenman_trueheart",
      line = "^You cannot have both greenman and trueheart painted on your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "wipe other off first" },
  { id = "conflict_lightning_swiftstripes",
      line = "^You cannot have both lightning bolts and swift stripes painted on your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "wipe other off first" },
  { id = "lightning",
      line = "^Ceremoniously%, you dab some blue tint upon your face%, creating the pattern of lightning bolts%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "faster eq" },
  { id = "lightning_def",
      line = "^Your face is painted with blue bolts of lightning%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "lightning_up",
      line = "^You already have lightning bolts painted on your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "already up" },
  { id = "swiftstripes",
      line = "^Ceremoniously%, you dab some red tint upon your face%, creating the pattern of stripes%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "balance buff" },
  { id = "swiftstripes_def",
      line = "^Your face is painted with red stripes%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "swiftstripes_up",
      line = "^You already have swift stripes painted on your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "already up" },
  { id = "wipe_facepaint_fail",
      line = "^You do not have that face paint upon yourself%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "no facepaint to wipe" },
  { id = "wipe_allfacepaint_fail",
      line = "^You have no face paints to wipe off%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "no facepaints" },
  { id = "wipe_facepaint",
      line = "^You wipe some paint off your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "lost a facepaint, check recent commands" },
  { id = "wipe_allfacepaint",
      line = "^You wipe the paints off your face%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "lost facepaints" },
  { id = "ringwalk",
      line = "^You begin briskly walking in a wide circle%, lifting your knees high, creating a path in the shape of a ring%. As you effortlessly trot along the ringed path%, the grace of White Hart within you separates from your inner being in the form of a ghostly stag%, who joins you upon the sacred ringwalk%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ringwalk" },
  { id = "ringwalk_up",
      line = "^Your inner stag is already walking the ring%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ringwalk up" },
  { id = "ringwalk_down",
      line = "^Your inner stag no longer walks the ring%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "ringwalk down" },
  { id = "ringwalk_def",
      line = "^Your inner stag is walking the ring around you%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "stagform",
      line = "^You call upon Stag and throw wide your arms%. You embrace the presence of Stag as he manifests and your heart thuds as antlers sprout upon your head%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "stagform" },
  { id = "stagform_up",
      line = "^You have already taken the form of a stag%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "stagform up" },
  { id = "stagform_def",
      line = "^Your body has been blessed by the stag%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "bolting_def",
      line = "^You will instantly bolt when an enemy approaches%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "def line" },
  { id = "bolting_on",
      line = "^You call upon the spirit of the stag to guide you%. Your legs tingle as the stag pours his blessings on you%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bolting" },
  { id = "bolting_up",
      line = "^You are already set to flee upon sighting an enemy%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bolting up" },
  { id = "bolting_off",
      line = "^You feel your legs settle down%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bolting off" },
  { id = "bolting_down",
      line = "^You already are not set to flee upon sighting an enemy%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "bolting down" },
  { id = "medicinebag",
      line = "^You hold your hands in the air and pray to the stag totem for succor%. A medicine bag forms in your hands%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "healing boosted bag" },
  { id = "touch_bag",
      line = "^You touch your medicine bag and feel your wounds close and heal%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "healing" },
  { id = "rub_bag",
      line = "^You rub yourself a bit with a medicine bag%, to no effect%.$",
      action = function (i, tbl) stag_(i, tbl) end,
      notes = "no wounds" },
}
